#!/bin/bash

# OSI NETWORK PRACTICE SCRIPT
# Runs a suite of modern networking commands for quick recon

echo "=========================================="
echo "    OSI NETWORK RECONNAISSANCE TOOL       "
echo "=========================================="

echo -e "\n[+] INTERFACES & ADDRESSES (ip a)"
ip a

echo -e "\n[+] ROUTING TABLE (ip r)"
ip r

echo -e "\n[+] LISTENING PORTS (ss -tulpn)"
# Check if running as root for full process info
if [ "$EUID" -ne 0 ]; then
  echo "(Run as sudo to see process names)"
fi
ss -tulpn

echo -e "\n[+] CHECKING DNS (google.com)"
if command -v dig &> /dev/null; then
    dig +short google.com
else
    echo "dig not found. Installing dnsutils..."
    # sudo apt install dnsutils -y
    nslookup google.com
fi

echo -e "\n[+] LOCALHOST PORT SCAN (1-1000)"
if command -v nc &> /dev/null; then
    nc -zvn 127.0.0.1 1-1000 2>&1 | grep "succeeded"
else
    echo "Netcat not found."
fi

echo -e "\n[+] WIFI NETWORKS (nmcli)"
if command -v nmcli &> /dev/null; then
    nmcli dev wifi list 2>/dev/null || echo "WiFi scanning not available or requires sudo."
else
    echo "nmcli not installed."
fi

echo -e "\n=========================================="
echo "    SCAN COMPLETE"
echo "=========================================="
