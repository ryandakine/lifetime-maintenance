import{j as s}from"./main-D2OIwsnq.js";import{r as t}from"./vendor-B6114-rA.js";import{u as p}from"./redux-CQk40qEf.js";import"./ui-7hvmghxF.js";const f=t.memo(()=>{const[m,h]=t.useState([]),[r,u]=t.useState(!1),i=p(e=>{var a;try{return((a=e==null?void 0:e.tasks)==null?void 0:a.tasks)||[]}catch(o){return console.warn("Error accessing tasks from Redux store:",o),[]}}),c=p(e=>{try{const a=(e==null?void 0:e.shopping)||{};return[...a.mainList||[],...a.miscList||[]]}catch(a){return console.warn("Error accessing shopping items from Redux store:",a),[]}}),n=t.useCallback(async(e,a)=>{u(!0);try{const d=await(await fetch(`/api/n8n/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();return h(y=>[...y,{id:Date.now(),type:e,data:a,result:d,timestamp:new Date().toISOString()}]),d}catch(o){h(d=>[...d,{id:Date.now(),type:e,data:a,error:o.message,timestamp:new Date().toISOString()}])}finally{u(!1)}},[]),x=t.useCallback(async()=>{await n("email-automation",{topic:"Maintenance Update",recipient:"team@lifetimefitness.com",urgency:"normal"})},[n]),j=t.useCallback(async()=>{await n("ai-assistant",{message:"What maintenance tasks should I prioritize today?",context:"fitness-facility-maintenance"})},[n]),g=t.useCallback(async()=>{await n("task-processing",{description:"Check treadmill maintenance schedule",priority:"high",equipment:"treadmill"})},[n]),N=t.useCallback(async()=>{await n("photo-analysis",{description:"Equipment damage assessment",category:"equipment-maintenance"})},[n]),b=t.useCallback(async()=>{await n("shopping-processing",{item:"treadmill belt",quantity:1,urgency:"medium"})},[n]),l=t.useMemo(()=>({activeTasks:(i==null?void 0:i.length)||0,shoppingItems:(c==null?void 0:c.length)||0,maintenanceDue:5,photosDocumented:12}),[i==null?void 0:i.length,c==null?void 0:c.length]),k=t.useMemo(()=>m.slice(-5).reverse(),[m]);return!i||!c?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",fontSize:"1.1rem",color:"#666"},children:"Loading dashboard..."}):s.jsxs("div",{className:"dashboard",children:[s.jsxs("div",{className:"dashboard-header",children:[s.jsx("h2",{children:"üèãÔ∏è Maintenance Dashboard"}),s.jsx("p",{children:"Quick access to maintenance workflows and status"})]}),s.jsxs("div",{className:"quick-actions",children:[s.jsx("h3",{children:"‚ö° Quick Actions"}),s.jsxs("div",{className:"action-grid",children:[s.jsx("button",{className:"action-button",onClick:x,disabled:r,children:"üìß Send Email"}),s.jsx("button",{className:"action-button",onClick:j,disabled:r,children:"ü§ñ AI Assistant"}),s.jsx("button",{className:"action-button",onClick:g,disabled:r,children:"üìã Analyze Task"}),s.jsx("button",{className:"action-button",onClick:N,disabled:r,children:"üì∏ Photo Analysis"}),s.jsx("button",{className:"action-button",onClick:b,disabled:r,children:"üõí Shopping Analysis"})]})]}),s.jsxs("div",{className:"status-overview",children:[s.jsx("h3",{children:"üìä Status Overview"}),s.jsxs("div",{className:"status-grid",children:[s.jsxs("div",{className:"status-card",children:[s.jsx("h4",{children:"üìã Tasks"}),s.jsx("p",{className:"status-number",children:l.activeTasks}),s.jsx("p",{className:"status-label",children:"Active Tasks"})]}),s.jsxs("div",{className:"status-card",children:[s.jsx("h4",{children:"üõí Shopping"}),s.jsx("p",{className:"status-number",children:l.shoppingItems}),s.jsx("p",{className:"status-label",children:"Items Needed"})]}),s.jsxs("div",{className:"status-card",children:[s.jsx("h4",{children:"üîß Maintenance"}),s.jsx("p",{className:"status-number",children:l.maintenanceDue}),s.jsx("p",{className:"status-label",children:"Due This Week"})]}),s.jsxs("div",{className:"status-card",children:[s.jsx("h4",{children:"üì∏ Photos"}),s.jsx("p",{className:"status-number",children:l.photosDocumented}),s.jsx("p",{className:"status-label",children:"Documented"})]})]})]}),s.jsxs("div",{className:"workflow-results",children:[s.jsx("h3",{children:"üîÑ Recent Workflows"}),m.length===0?s.jsx("p",{className:"no-results",children:"No workflows triggered yet. Use the quick actions above to get started!"}):s.jsx("div",{className:"results-list",children:k.map(e=>s.jsxs("div",{className:`result-item ${e.error?"error":"success"}`,children:[s.jsxs("div",{className:"result-header",children:[s.jsx("span",{className:"result-type",children:e.type}),s.jsx("span",{className:"result-time",children:new Date(e.timestamp).toLocaleTimeString()})]}),s.jsx("div",{className:"result-content",children:e.error?s.jsxs("p",{className:"error-message",children:["‚ùå ",e.error]}):s.jsx("p",{className:"success-message",children:"‚úÖ Workflow completed successfully"})})]},e.id))})]}),r&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Processing workflow..."})]})]})});f.displayName="Dashboard";export{f as default};
//# sourceMappingURL=Dashboard-DQbWuYCt.js.map
