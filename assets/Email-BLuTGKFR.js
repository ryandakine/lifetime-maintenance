import{s as x,T as v,j as e,A as V}from"./main-D2OIwsnq.js";import{r as i}from"./vendor-B6114-rA.js";import{m as xe,c as K,M as z,x as ge,F as U,n as he,l as k,d as ye}from"./ui-7hvmghxF.js";import"./redux-CQk40qEf.js";const Re=()=>{console.log("Rendering Email"),console.log("Email rendering!");const[b,S]=i.useState([]),[y,g]=i.useState(!1),[T,F]=i.useState({type:"",text:""}),[l,m]=i.useState({to:"",subject:"",body:""}),[u,M]=i.useState({pastedContent:"",generatedReply:"",showContextForm:!1}),[f,N]=i.useState(!1),[_,$]=i.useState(""),[fe,J]=i.useState(null),[H,B]=i.useState(!1),[h,E]=i.useState(""),[I,A]=i.useState(!1),[j,Y]=i.useState(null),[w,L]=i.useState("body"),[q,Z]=i.useState([]),[be,je]=i.useState([]),[C,O]=i.useState(!1);i.useEffect(()=>{Q()},[]),i.useEffect(()=>{const r=localStorage.getItem("voiceEmail");if(r)try{const t=JSON.parse(r);t.recipient&&m(o=>({...o,recipient:t.recipient})),t.subject&&m(o=>({...o,subject:t.subject})),localStorage.removeItem("voiceEmail")}catch(t){console.error("Error parsing voice email data:",t),localStorage.removeItem("voiceEmail")}},[]);const Q=async()=>{try{const{data:r,error:t}=await x.from(v.EMAILS).select("*").order("created_at",{ascending:!1});if(t)throw t;S(r||[])}catch(r){console.error("Error loading emails:",r),console.log("Email component: Data load failed, showing fallback"),c("error","Failed to load emails"),S([])}},X=async r=>{if(r.preventDefault(),!l.to||!l.subject||!l.body){c("error","Please fill in all fields");return}try{g(!0);const{data:t,error:o}=await x.functions.invoke("send-email",{body:{to:l.to,subject:l.subject,text:l.body}});if(o)throw o;const{data:s,error:n}=await x.from(v.EMAILS).insert([{user_id:"current-user",to_email:l.to,subject:l.subject,body:l.body,sent:!0}]).select();if(n)throw n;S([s[0],...b]),m({to:"",subject:"",body:""}),console.log(`Email sent to ${l.to}`),c("success",`Email sent successfully to ${l.to}`)}catch(t){console.error("Error sending email:",t),c("error","Failed to send email")}finally{g(!1)}},ee=async(r,t)=>{try{g(!0);const{data:o,error:s}=await x.from(v.TASKS).select("*").eq("user_id","current-user").order("created_at",{ascending:!1}).limit(5);if(s){console.error("Error fetching tasks:",s),c("error","Failed to fetch task data");return}console.log("Fetched tasks for Claude context:",o);const n=await ae(t,o),{data:a,error:d}=await x.functions.invoke("send-email",{body:{to:t.to_email||"sender@example.com",subject:`Re: ${t.subject}`,text:n}});if(d)throw d;const{data:R,error:p}=await x.from(v.EMAILS).insert([{user_id:"current-user",to_email:t.to_email||"sender@example.com",subject:`Re: ${t.subject}`,body:n,sent:!0}]).select();if(p)throw p;S([R[0],...b]),console.log(`Response sent to ${t.to_email||"sender@example.com"}`),c("success","Response sent successfully")}catch(o){console.error("Error sending response:",o),c("error","Failed to send response")}finally{g(!1)}},re=async()=>{if(!u.pastedContent.trim()){c("error","Please paste email content first");return}try{g(!0);const{data:r,error:t}=await x.from(v.TASKS).select("*").eq("user_id","current-user").order("created_at",{ascending:!1}).limit(5);if(t){console.error("Error fetching tasks:",t),c("error","Failed to fetch task data");return}console.log("Fetched tasks for context reply:",r);const o=await oe(u.pastedContent,r);M(s=>({...s,generatedReply:o})),console.log("Reply generated with context"),c("success","Reply generated successfully")}catch(r){console.error("Error generating reply:",r),c("error","Failed to generate reply")}finally{g(!1)}},te=async()=>{if(!u.generatedReply.trim()){c("error","Please generate a reply first");return}try{g(!0);const r=se(u.pastedContent)||"recipient@example.com",t=ne(u.pastedContent)||"Re: Maintenance Update",{data:o,error:s}=await x.functions.invoke("send-email",{body:{to:r,subject:t,text:u.generatedReply}});if(s)throw s;const{data:n,error:a}=await x.from(v.EMAILS).insert([{user_id:"current-user",to_email:r,subject:t,body:u.generatedReply,sent:!0}]).select();if(a)throw a;S([n[0],...b]),console.log(`Generated reply sent to ${r}`),c("success","Reply sent successfully"),M({pastedContent:"",generatedReply:"",showContextForm:!1})}catch(r){console.error("Error sending generated reply:",r),c("error","Failed to send reply")}finally{g(!1)}},oe=async(r,t)=>{try{const o=V.CLAUDE_API;if(!o||o==="sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")return console.warn("Claude API key not configured, using fallback response"),W(r,t);const s=t.map(p=>`- ${p.task_list} (${p.status})`).join(`
`),n=`Generate a professional email reply based on this context:

Original Email:
${r}

Current Maintenance Tasks (last 5):
${s}

Instructions:
1. Create a concise, professional reply
2. Reference relevant maintenance tasks when applicable
3. Ask for specific updates if mentioned (e.g., windscreen, concrete project)
4. Keep response under 150 words
5. Use professional tone

Reply:`;console.log("Sending contextual reply request to Claude API...");const a=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":o,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-5-sonnet-20240620",max_tokens:500,messages:[{role:"user",content:n}]})});if(!a.ok){const p=await a.text();throw console.error("Claude API error:",a.status,p),new Error(`Claude API error: ${a.status}`)}const R=(await a.json()).content[0].text;return console.log("Contextual reply generated successfully"),R}catch(o){return console.error("Error calling Claude API:",o),console.log("Using fallback contextual reply due to Claude API error"),W(r,t)}},W=(r,t)=>`Thank you for your email.

I have reviewed your message and will address your concerns promptly.${t.length>0?`

Current maintenance status: ${t.length} active tasks.`:`

No active maintenance tasks at this time.`}

I'll follow up with you shortly with more detailed information.

Best regards,
Maintenance Team`,se=r=>{const t=r.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);return t?t[0]:null},ne=r=>{const t=r.match(/Subject:\s*(.+)/i);return t?`Re: ${t[1]}`:null},ae=async(r,t)=>{try{const o=V.CLAUDE_API;if(!o||o==="sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")return console.warn("Claude API key not configured, using fallback response"),D(r,t);const s=t.map(p=>`- ${p.task_list} (Status: ${p.status}, Due: ${p.due_date||"No due date"})`).join(`
`),n=`You are a professional maintenance team member at Lifetime Fitness. Generate a professional email response based on the following context:

Original Email Subject: ${r.subject}
Original Email Body: ${r.body}

Current Maintenance Tasks:
${s}

Please generate a professional, helpful response that:
1. Addresses the original email appropriately
2. References relevant maintenance tasks when applicable
3. Maintains a professional tone
4. Provides clear next steps or information
5. Is concise but comprehensive

Response:`;console.log("Sending request to Claude API with context...");const a=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":o,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-5-sonnet-20240620",max_tokens:1e3,messages:[{role:"user",content:n}]})});if(!a.ok){const p=await a.text();throw console.error("Claude API error:",a.status,p),new Error(`Claude API error: ${a.status}`)}const R=(await a.json()).content[0].text;return console.log("Claude response generated successfully"),R}catch(o){return console.error("Error calling Claude API:",o),console.log("Using fallback response due to Claude API error"),D(r,t)}},D=(r,t)=>{const o=t.length>0?`

Current maintenance status: ${t.length} active tasks, including ${t.filter(s=>s.status==="pending").length} pending items.`:`

No active maintenance tasks at this time.`;return`Thank you for your email regarding "${r.subject}".

I have reviewed your message and will address your concerns promptly.${o}

I'll follow up with you shortly with more detailed information.

Best regards,
Maintenance Team`},c=(r,t)=>{F({type:r,text:t}),setTimeout(()=>F({type:"",text:""}),5e3)},P=(r="body")=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){c("error","Speech recognition not supported");return}const t=window.SpeechRecognition||window.webkitSpeechRecognition,o=new t;o.continuous=!1,o.interimResults=!0,o.lang="en-US",o.onstart=()=>{N(!0),$(""),L(r)},o.onresult=n=>{let a="";for(let d=n.resultIndex;d<n.results.length;d++)n.results[d].isFinal&&(a+=n.results[d][0].transcript);a&&($(a),m(r==="to"?d=>({...d,to:a}):r==="subject"?d=>({...d,subject:a}):d=>({...d,body:d.body+" "+a})))},o.onend=()=>{N(!1)},o.onerror=n=>{console.error("Speech recognition error:",n.error),N(!1)};const s=setTimeout(()=>{o.stop(),o.abort()},3e4);J(s),o.start()},ie=(r="body")=>{B(!0),E(""),L(r)},G=()=>{B(!1),E(""),j&&(j.stop(),j.abort())},le=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){c("error","Speech recognition not supported");return}const r=window.SpeechRecognition||window.webkitSpeechRecognition,t=new r;t.continuous=!1,t.interimResults=!0,t.lang="en-US",t.onstart=()=>{A(!0)},t.onresult=o=>{let s="";for(let n=o.resultIndex;n<o.results.length;n++)o.results[n].isFinal&&(s+=o.results[n][0].transcript);s&&E(n=>n+s+" ")},t.onend=()=>{A(!1)},t.onerror=o=>{console.error("Speech recognition error:",o.error),A(!1)},t.start(),Y(t)},ce=()=>{j&&(j.stop(),j.abort(),A(!1))},de=()=>{h.trim()&&(m(w==="to"?r=>({...r,to:h.trim()}):w==="subject"?r=>({...r,subject:h.trim()}):r=>({...r,body:h.trim()})),G())},me=[{name:"Maintenance Report",subject:"Maintenance Report - {{date}}",body:`Dear {{recipient}},

Please find below the maintenance report for {{date}}:

{{content}}

Best regards,
{{sender}}`},{name:"Equipment Issue",subject:"Equipment Issue Report - {{equipment}}",body:`Dear {{recipient}},

I am reporting an issue with {{equipment}}:

Issue: {{issue}}
Location: {{location}}
Priority: {{priority}}

Please advise on next steps.

Best regards,
{{sender}}`},{name:"Work Order Request",subject:"Work Order Request - {{project}}",body:`Dear {{recipient}},

I am requesting a work order for the following project:

Project: {{project}}
Description: {{description}}
Estimated Time: {{time}}
Materials Needed: {{materials}}

Please review and approve.

Best regards,
{{sender}}`},{name:"Safety Concern",subject:"Safety Concern Report",body:`Dear {{recipient}},

I am reporting a safety concern:

Issue: {{issue}}
Location: {{location}}
Severity: {{severity}}
Immediate Action Required: {{action}}

Please address as soon as possible.

Best regards,
{{sender}}`}],pe=r=>{const t=new Date().toLocaleDateString(),o=r.subject.replace("{{date}}",t),s=r.body.replace("{{date}}",t).replace("{{sender}}","Maintenance Team");m(n=>({...n,subject:o,body:s})),O(!1)},ue=async()=>{try{console.log("Perplexity API key not configured");return}catch(r){console.error("Error generating AI suggestions:",r)}};return e.jsxs("div",{className:"container",children:[T.text&&e.jsx("div",{className:`message ${T.type}`,children:T.text}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Send Email"}),e.jsxs("form",{onSubmit:X,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"email-recipient",children:"Recipient"}),e.jsx("input",{id:"email-recipient",name:"email-recipient",type:"email",className:"form-input",value:l.recipient,onChange:r=>m({...l,recipient:r.target.value}),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"email-subject",children:"Subject"}),e.jsx("input",{id:"email-subject",name:"email-subject",type:"text",className:"form-input",value:l.subject,onChange:r=>m({...l,subject:r.target.value}),placeholder:"Enter email subject",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"email-body",children:"Body"}),e.jsx("textarea",{id:"email-body",name:"email-body",className:"form-textarea",value:l.body,onChange:r=>m({...l,body:r.target.value}),placeholder:"Email content...",title:"Email body content",required:!0})]}),e.jsx("button",{type:"submit",className:"btn",disabled:y,title:"Send email","aria-label":"Send email",children:y?e.jsxs(e.Fragment,{children:[e.jsx(xe,{size:16,style:{marginRight:"0.5rem",animation:"spin 1s linear infinite"},"aria-hidden":"true"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{size:16,style:{marginRight:"0.5rem"},"aria-hidden":"true"}),"Send Email"]})})]}),e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:f?"var(--warning-color)":"var(--light-color)",borderRadius:"8px",border:f?"2px solid var(--warning-color)":"1px solid var(--border-color)",textAlign:"center"},children:[e.jsxs("h4",{style:{marginBottom:"0.5rem",color:f?"white":"var(--primary-color)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[e.jsx(z,{size:20}),"Voice Input"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"1rem",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>P("to"),style:{padding:"0.75rem 1rem",borderRadius:"25px",border:"none",backgroundColor:f&&w==="to"?"#dc3545":"var(--primary-color)",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease"},children:[e.jsx(ge,{size:16}),"To"]}),e.jsxs("button",{onClick:()=>P("subject"),style:{padding:"0.75rem 1rem",borderRadius:"25px",border:"none",backgroundColor:f&&w==="subject"?"#dc3545":"var(--primary-color)",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease"},children:[e.jsx(U,{size:16}),"Subject"]}),e.jsxs("button",{onClick:()=>P("body"),style:{padding:"0.75rem 1rem",borderRadius:"25px",border:"none",backgroundColor:f&&w==="body"?"#dc3545":"var(--primary-color)",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease"},children:[e.jsx(he,{size:16}),"Body"]}),e.jsxs("button",{onClick:ie,style:{padding:"0.75rem 1rem",borderRadius:"25px",border:"2px solid var(--primary-color)",backgroundColor:"white",color:"var(--primary-color)",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.3s ease"},children:[e.jsx(z,{size:16}),"Modal"]})]}),f&&e.jsx("div",{style:{color:"white",fontSize:"0.9rem",marginBottom:"0.5rem",textAlign:"center",fontWeight:"600"},children:"ðŸŽ¤ LISTENING - Click button to stop"}),_&&e.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"white",borderRadius:"4px",fontSize:"0.9rem",color:"var(--text-color)",minHeight:"40px"},children:[e.jsx("strong",{children:"You said:"})," ",_]})]}),e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"var(--light-color)",borderRadius:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h4",{style:{color:"var(--primary-color)",margin:0},children:"ðŸ“§ Email Templates"}),e.jsxs("button",{onClick:()=>O(!C),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid var(--border-color)",backgroundColor:C?"var(--primary-color)":"white",color:C?"white":"var(--text-color)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(U,{size:16}),C?"Hide Templates":"Show Templates"]})]}),C&&e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:me.map((r,t)=>e.jsxs("button",{onClick:()=>pe(r),style:{padding:"1rem",borderRadius:"8px",border:"1px solid var(--border-color)",backgroundColor:"white",color:"var(--text-color)",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:r.name}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--secondary-color)"},children:r.subject})]},t))})]}),e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"var(--light-color)",borderRadius:"8px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h4",{style:{color:"var(--primary-color)",margin:0},children:"ðŸ¤– AI Email Suggestions"}),e.jsxs("button",{onClick:ue,style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid var(--border-color)",backgroundColor:"var(--primary-color)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(k,{size:16}),"Get AI Suggestions"]})]}),q.length>0&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:q.map((r,t)=>e.jsxs("div",{style:{padding:"0.75rem",backgroundColor:"white",borderRadius:"6px",border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontWeight:"500",marginBottom:"0.25rem"},children:r.suggestion}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--secondary-color)"},children:r.reason})]},t))})]})]}),H&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:[e.jsx("h3",{style:{marginBottom:"1rem",color:"var(--primary-color)"},children:"ðŸŽ¤ Voice Email Input"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("label",{style:{fontSize:"0.9rem",fontWeight:"500"},children:["Mode: ",w]})}),e.jsx("textarea",{value:h,onChange:r=>E(r.target.value),placeholder:"Your voice input will appear here...",style:{width:"100%",minHeight:"100px",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",fontSize:"0.9rem",resize:"vertical"}})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[e.jsxs("button",{onClick:I?ce:le,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:I?"#dc3545":"var(--primary-color)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[I?e.jsx(ye,{size:16}):e.jsx(z,{size:16}),I?"Stop":"Start"," Recording"]}),e.jsx("button",{onClick:de,disabled:!h.trim(),style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",backgroundColor:h.trim()?"var(--success-color)":"var(--secondary-color)",color:"white",cursor:h.trim()?"pointer":"not-allowed"},children:"Apply"}),e.jsx("button",{onClick:G,style:{padding:"0.75rem 1.5rem",borderRadius:"8px",border:"1px solid var(--border-color)",backgroundColor:"white",color:"var(--text-color)",cursor:"pointer"},children:"Cancel"})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Generate Reply with Context"}),e.jsx("p",{style:{color:"var(--secondary-color)",marginBottom:"1rem"},children:"Paste email content to generate a contextual reply using AI and your maintenance tasks."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"paste-email-content",children:"Paste Email Content"}),e.jsx("textarea",{id:"paste-email-content",name:"paste-email-content",className:"form-textarea",value:u.pastedContent,onChange:r=>M({...u,pastedContent:r.target.value}),placeholder:"Paste the email content here (e.g., from Split Rail Fencing)...",rows:6,title:"Paste email content to generate contextual reply"})]}),e.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:e.jsx("button",{className:"btn",onClick:re,disabled:y||!u.pastedContent.trim(),title:"Generate AI reply with context","aria-label":"Generate AI reply with context",children:y?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:16,style:{marginRight:"0.5rem",animation:"spin 1s linear infinite"},"aria-hidden":"true"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:16,style:{marginRight:"0.5rem"},"aria-hidden":"true"}),"Generate Reply"]})})}),u.generatedReply&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Generated Reply"}),e.jsx("div",{style:{padding:"1rem",backgroundColor:"var(--light-color)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",marginBottom:"1rem"},children:e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:u.generatedReply})}),e.jsxs("button",{className:"btn btn-success",onClick:te,disabled:y,children:[e.jsx(K,{size:16,style:{marginRight:"0.5rem"}}),"Send Reply"]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Email History"}),b.length===0?e.jsx("p",{style:{textAlign:"center",color:"var(--secondary-color)"},children:"No emails sent yet"}):b.map(r=>e.jsx("div",{className:"card",style:{marginBottom:"1rem"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{children:r.subject}),e.jsxs("p",{children:[e.jsx("strong",{children:"To:"})," ",r.to_email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(r.created_at).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{style:{color:r.sent?"var(--success-color)":"var(--warning-color)",fontWeight:"600",marginLeft:"0.5rem"},children:r.sent?"Sent":"Draft"})]}),e.jsx("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"var(--light-color)",borderRadius:"var(--border-radius)",whiteSpace:"pre-wrap"},children:r.body})]}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>ee(r.id,r),disabled:y,style:{whiteSpace:"nowrap"},children:y?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:16,style:{marginRight:"0.5rem",animation:"spin 1s linear infinite"}}),"AI Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:16,style:{marginRight:"0.5rem"}}),"AI Respond"]})})]})},r.id))]}),e.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})};export{Re as default};
//# sourceMappingURL=Email-BLuTGKFR.js.map
