{"version":3,"file":"FileUploader-DeCRKJvF.js","sources":["../../src/components/FileUploader.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { supabase } from '../lib/supabase'\nimport { \n  Upload, \n  Download, \n  Trash2, \n  File, \n  FileText, \n  Image, \n  Video, // Changed from FileVideo\n  Music, \n  Archive,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  Loader,\n  Cloud,\n  CloudOff,\n  RefreshCw,\n  Search,\n  Filter,\n  Grid,\n  List,\n  Eye,\n  Copy,\n  Share2,\n  MoreHorizontal\n} from 'lucide-react'\n\nconst FileUploader = () => {\n  console.log('FileUploader rendering!')\n  \n  const [files, setFiles] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [uploading, setUploading] = useState(false)\n  const [message, setMessage] = useState({ type: '', text: '' })\n  const [isOnline, setIsOnline] = useState(navigator.onLine)\n  const [uploadProgress, setUploadProgress] = useState({})\n  const [searchQuery, setSearchQuery] = useState('')\n  const [filteredFiles, setFilteredFiles] = useState([])\n  const [viewMode, setViewMode] = useState('list') // 'list' or 'grid'\n  const [selectedFiles, setSelectedFiles] = useState([])\n  const [dragActive, setDragActive] = useState(false)\n  const fileInputRef = useRef(null)\n\n  // Check online status\n  useEffect(() => {\n    const handleOnline = () => setIsOnline(true)\n    const handleOffline = () => setIsOnline(false)\n\n    window.addEventListener('online', handleOnline)\n    window.addEventListener('offline', handleOffline)\n\n    return () => {\n      window.removeEventListener('online', handleOnline)\n      window.removeEventListener('offline', handleOffline)\n    }\n  }, [])\n\n  // Load files on component mount\n  useEffect(() => {\n    loadFiles()\n  }, [])\n\n  // Filter files based on search query\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFilteredFiles(files)\n    } else {\n      const filtered = files.filter(file => \n        file.name.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n      setFilteredFiles(filtered)\n    }\n  }, [searchQuery, files])\n\n  const loadFiles = async () => {\n    console.log('üîÑ Loading files from Supabase Storage...')\n    try {\n      setLoading(true)\n      const { data, error } = await supabase.storage\n        .from('work-files')\n        .list('', {\n          limit: 100,\n          offset: 0,\n        })\n\n      if (error) {\n        console.error('‚ùå Error loading files:', error)\n        throw error\n      }\n\n      console.log('‚úÖ Files loaded successfully:', data?.length || 0, 'files')\n      setFiles(data || [])\n      setFilteredFiles(data || [])\n      \n    } catch (error) {\n      console.error('‚ùå Error loading files:', error)\n      if (!isOnline) {\n        showMessage('error', 'You are offline. Files cannot be loaded.')\n      } else {\n        showMessage('error', 'Failed to load files. Check your connection.')\n      }\n      setFiles([])\n      setFilteredFiles([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFileSelect = (e) => {\n    const selectedFiles = Array.from(e.target.files)\n    console.log('üìÅ Files selected:', selectedFiles.map(f => f.name))\n    uploadFiles(selectedFiles)\n  }\n\n  const handleDrop = (e) => {\n    e.preventDefault()\n    setDragActive(false)\n    const droppedFiles = Array.from(e.dataTransfer.files)\n    console.log('üìÅ Files dropped:', droppedFiles.map(f => f.name))\n    uploadFiles(droppedFiles)\n  }\n\n  const handleDrag = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true)\n    } else if (e.type === 'dragleave') {\n      setDragActive(false)\n    }\n  }\n\n  const uploadFiles = async (filesToUpload) => {\n    if (!filesToUpload || filesToUpload.length === 0) return\n    \n    if (!isOnline) {\n      showMessage('error', 'You are offline. Cannot upload files.')\n      return\n    }\n\n    console.log('‚¨ÜÔ∏è Starting file upload process...')\n    setUploading(true)\n    const results = []\n\n    for (const file of filesToUpload) {\n      try {\n        const fileName = `${Date.now()}-${file.name.replace(/[^a-zA-Z0-9.-]/g, '_')}`\n        console.log(`‚¨ÜÔ∏è Uploading: ${file.name} as ${fileName}`)\n        \n        setUploadProgress(prev => ({ ...prev, [file.name]: 0 }))\n\n        const { data, error } = await supabase.storage\n          .from('work-files')\n          .upload(fileName, file, {\n            cacheControl: '3600',\n            upsert: false\n          })\n\n        if (error) {\n          console.error(`‚ùå Upload failed for ${file.name}:`, error)\n          results.push({ file: file.name, success: false, error: error.message })\n        } else {\n          console.log(`‚úÖ Upload successful for ${file.name}:`, data)\n          results.push({ file: file.name, success: true, data })\n        }\n\n        setUploadProgress(prev => ({ ...prev, [file.name]: 100 }))\n        \n      } catch (error) {\n        console.error(`‚ùå Upload error for ${file.name}:`, error)\n        results.push({ file: file.name, success: false, error: error.message })\n      }\n    }\n\n    // Show results\n    const successful = results.filter(r => r.success).length\n    const failed = results.filter(r => !r.success).length\n    \n    if (successful > 0 && failed === 0) {\n      showMessage('success', `Successfully uploaded ${successful} file(s)`)\n    } else if (successful > 0 && failed > 0) {\n      showMessage('warning', `Uploaded ${successful} file(s), ${failed} failed`)\n    } else {\n      showMessage('error', `Failed to upload ${failed} file(s)`)\n    }\n\n    // Clear progress and reload files\n    setTimeout(() => {\n      setUploadProgress({})\n      loadFiles()\n    }, 1000)\n    \n    setUploading(false)\n    \n    // Clear file input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const downloadFile = async (fileName) => {\n    console.log('‚¨áÔ∏è Downloading file:', fileName)\n    \n    if (!isOnline) {\n      showMessage('error', 'You are offline. Cannot download files.')\n      return\n    }\n\n    try {\n      const { data, error } = await supabase.storage\n        .from('work-files')\n        .download(fileName)\n\n      if (error) {\n        console.error('‚ùå Download error:', error)\n        throw error\n      }\n\n      console.log('‚úÖ File downloaded successfully')\n      \n      // Create download link\n      const url = URL.createObjectURL(data)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = fileName.replace(/^\\d+-/, '') // Remove timestamp prefix\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n      \n      showMessage('success', 'File downloaded successfully')\n    } catch (error) {\n      console.error('‚ùå Error downloading file:', error)\n      showMessage('error', 'Failed to download file')\n    }\n  }\n\n  const deleteFile = async (fileName) => {\n    console.log('üóëÔ∏è Deleting file:', fileName)\n    \n    if (!isOnline) {\n      showMessage('error', 'You are offline. Cannot delete files.')\n      return\n    }\n\n    if (!confirm(`Are you sure you want to delete \"${fileName}\"?`)) {\n      return\n    }\n\n    try {\n      const { error } = await supabase.storage\n        .from('work-files')\n        .remove([fileName])\n\n      if (error) {\n        console.error('‚ùå Delete error:', error)\n        throw error\n      }\n\n      console.log('‚úÖ File deleted successfully')\n      setFiles(files.filter(file => file.name !== fileName))\n      setFilteredFiles(filteredFiles.filter(file => file.name !== fileName))\n      showMessage('success', 'File deleted successfully')\n    } catch (error) {\n      console.error('‚ùå Error deleting file:', error)\n      showMessage('error', 'Failed to delete file')\n    }\n  }\n\n  const getFileIcon = (fileName) => {\n    const extension = fileName.split('.').pop()?.toLowerCase()\n    \n    switch (extension) {\n      case 'jpg':\n      case 'jpeg':\n      case 'png':\n      case 'gif':\n      case 'webp':\n        return <Image size={20} style={{ color: 'var(--primary-color)' }} />\n      case 'pdf':\n        return <FileText size={20} style={{ color: 'var(--danger-color)' }} />\n      case 'doc':\n      case 'docx':\n        return <FileText size={20} style={{ color: 'var(--primary-color)' }} />\n      case 'xls':\n      case 'xlsx':\n        return <FileText size={20} style={{ color: 'var(--success-color)' }} />\n      case 'mp4':\n      case 'avi':\n      case 'mov':\n        return <Video size={20} style={{ color: 'var(--secondary-color)' }} />\n      case 'mp3':\n      case 'wav':\n        return <Music size={20} style={{ color: 'var(--warning-text)' }} />\n      case 'zip':\n      case 'rar':\n        return <Archive size={20} style={{ color: 'var(--secondary-color)' }} />\n      default:\n        return <File size={20} style={{ color: 'var(--primary-color)' }} />\n    }\n  }\n\n  const formatFileSize = (size) => {\n    if (!size) return 'Unknown size'\n    if (size < 1024) return `${size} B`\n    if (size < 1024 * 1024) return `${(size / 1024).toFixed(1)} KB`\n    if (size < 1024 * 1024 * 1024) return `${(size / (1024 * 1024)).toFixed(1)} MB`\n    return `${(size / (1024 * 1024 * 1024)).toFixed(1)} GB`\n  }\n\n  const copyFileLink = async (fileName) => {\n    try {\n      const { data } = await supabase.storage\n        .from('work-files')\n        .getPublicUrl(fileName)\n      \n      await navigator.clipboard.writeText(data.publicUrl)\n      showMessage('success', 'File link copied to clipboard')\n    } catch (error) {\n      console.error('‚ùå Error copying link:', error)\n      showMessage('error', 'Failed to copy file link')\n    }\n  }\n\n  const showMessage = (type, text) => {\n    console.log(`üì¢ Message: ${type} - ${text}`)\n    setMessage({ type, text })\n    setTimeout(() => setMessage({ type: '', text: '' }), 5000)\n  }\n\n  return (\n    <div className=\"container\" style={{ maxWidth: '1200px', margin: '0 auto', padding: '1rem' }}>\n      {!isOnline && (\n        <div style={{\n                  backgroundColor: 'var(--warning-color)',\n        color: 'var(--dark-color)',\n          padding: '1rem',\n          borderRadius: '8px',\n          marginBottom: '1rem',\n          border: '1px solid var(--warning-color)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        }}>\n          <CloudOff size={20} />\n          ‚ö†Ô∏è You are currently offline. File operations may not work properly.\n        </div>\n      )}\n\n      {message.text && (\n        <div style={{\n                  backgroundColor: message.type === 'success' ? 'var(--success-color)' :\n        message.type === 'warning' ? 'var(--warning-color)' : 'var(--danger-color)',\n        color: 'var(--white)',\n          padding: '1rem',\n          borderRadius: '8px',\n          marginBottom: '1rem',\n                  border: `1px solid ${message.type === 'success' ? 'var(--success-color)' :\n        message.type === 'warning' ? 'var(--warning-color)' : 'var(--danger-color)'}`,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        }}>\n          {message.type === 'success' ? <CheckCircle size={20} /> :\n           message.type === 'warning' ? <AlertCircle size={20} /> :\n           <XCircle size={20} />}\n          {message.text}\n        </div>\n      )}\n\n      {/* Upload Section */}\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '12px',\n        padding: '2rem',\n        marginBottom: '2rem',\n        border: '1px solid #e9ecef',\n        boxShadow: '0 2px 4px rgba(0,123,255,0.1)'\n      }}>\n        <h2 style={{ \n          color: '#007BFF', \n          marginBottom: '1rem',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        }}>\n          <Cloud size={24} />\n          Upload Work Files\n        </h2>\n        \n        <div\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n          style={{\n            border: `2px dashed ${dragActive ? 'var(--primary-color)' : '#dee2e6'}`,\n            borderRadius: '8px',\n            padding: '3rem 2rem',\n            textAlign: 'center',\n            backgroundColor: dragActive ? 'var(--light-color)' : '#f8f9fa',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n            position: 'relative'\n          }}\n          onClick={() => fileInputRef.current?.click()}\n        >\n          <label htmlFor=\"file-upload\" style={{ display: 'none' }}>Choose file to upload</label>\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple\n            onChange={handleFileSelect}\n            style={{ display: 'none' }}\n            disabled={uploading || !isOnline}\n            id=\"file-upload\"\n            name=\"file-upload\"\n            aria-label=\"Choose file to upload\"\n            title=\"Choose file to upload\"\n          />\n          \n          {uploading ? (\n            <div>\n              <Loader size={48} style={{ \n                color: '#007BFF', \n                marginBottom: '1rem',\n                animation: 'spin 1s linear infinite'\n              }} aria-hidden=\"true\" />\n              <h3 style={{ color: 'var(--primary-color)', marginBottom: '0.5rem' }}>Uploading Files...</h3>\n              <div style={{ fontSize: '0.9rem', color: 'var(--secondary-color)' }}>\n                Please wait while your files are being uploaded\n              </div>\n            </div>\n          ) : (\n            <div>\n              <Upload size={48} style={{ color: 'var(--primary-color)', marginBottom: '1rem' }} aria-hidden=\"true\" />\n              <h3 style={{ color: 'var(--primary-color)', marginBottom: '0.5rem' }}>\n                Drop files here or click to browse\n              </h3>\n              <p style={{ fontSize: '0.9rem', color: 'var(--secondary-color)', margin: 0 }}>\n                Supports: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, MP4, ZIP and more\n              </p>\n              {!isOnline && (\n                <p style={{ fontSize: '0.8rem', color: 'var(--danger-color)', marginTop: '0.5rem' }}>\n                  Upload requires internet connection\n                </p>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Upload Progress */}\n        {Object.keys(uploadProgress).length > 0 && (\n          <div style={{ marginTop: '1rem' }}>\n            {Object.entries(uploadProgress).map(([fileName, progress]) => (\n              <div key={fileName} style={{ marginBottom: '0.5rem' }}>\n                <div style={{ \n                  display: 'flex', \n                  justifyContent: 'space-between', \n                  fontSize: '0.9rem',\n                  marginBottom: '0.25rem'\n                }}>\n                  <span>{fileName}</span>\n                  <span>{progress}%</span>\n                </div>\n                <div style={{\n                  width: '100%',\n                  height: '4px',\n                  backgroundColor: '#e9ecef',\n                  borderRadius: '2px',\n                  overflow: 'hidden'\n                }}>\n                  <div style={{\n                    width: `${progress}%`,\n                    height: '100%',\n                    backgroundColor: '#007BFF',\n                    transition: 'width 0.3s ease'\n                  }} />\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Files Section */}\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '12px',\n        padding: '2rem',\n        border: '1px solid #e9ecef',\n        boxShadow: '0 2px 4px rgba(0,123,255,0.1)'\n      }}>\n        {/* Header */}\n        <div style={{ \n          display: 'flex', \n          justifyContent: 'space-between', \n          alignItems: 'center', \n          marginBottom: '1.5rem',\n          flexWrap: 'wrap',\n          gap: '1rem'\n        }}>\n          <h2 style={{ \n            color: '#007BFF', \n            margin: 0,\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem'\n          }}>\n            <File size={24} />\n            Work Files ({filteredFiles.length})\n          </h2>\n          \n          <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n            <button\n              onClick={() => setViewMode('list')}\n              style={{\n                padding: '0.5rem',\n                border: 'none',\n                borderRadius: '6px',\n                backgroundColor: viewMode === 'list' ? '#007BFF' : '#f8f9fa',\n                color: viewMode === 'list' ? 'white' : '#6c757d',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center'\n              }}\n            >\n              <List size={16} />\n            </button>\n            <button\n              onClick={() => setViewMode('grid')}\n              style={{\n                padding: '0.5rem',\n                border: 'none',\n                borderRadius: '6px',\n                backgroundColor: viewMode === 'grid' ? '#007BFF' : '#f8f9fa',\n                color: viewMode === 'grid' ? 'white' : '#6c757d',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center'\n              }}\n            >\n              <Grid size={16} />\n            </button>\n            <button\n              onClick={loadFiles}\n              disabled={loading}\n              style={{\n                padding: '0.5rem',\n                border: 'none',\n                borderRadius: '6px',\n                backgroundColor: '#f8f9fa',\n                color: '#6c757d',\n                cursor: loading ? 'not-allowed' : 'pointer',\n                display: 'flex',\n                alignItems: 'center'\n              }}\n            >\n              <RefreshCw size={16} style={{ \n                animation: loading ? 'spin 1s linear infinite' : 'none' \n              }} />\n            </button>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div style={{ marginBottom: '1.5rem' }}>\n          <label htmlFor=\"search-input\" className=\"form-label\" style={{marginBottom: '0.5rem', display: 'block'}}>Search Files</label>\n          <div style={{ position: 'relative' }}>\n            <input\n              type=\"text\"\n              placeholder=\"Search files...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '0.75rem 2.5rem 0.75rem 1rem',\n                border: '1px solid #dee2e6',\n                borderRadius: '8px',\n                fontSize: '1rem',\n                outline: 'none',\n                transition: 'border-color 0.2s ease'\n              }}\n              onFocus={(e) => e.target.style.borderColor = '#007BFF'}\n              onBlur={(e) => e.target.style.borderColor = '#dee2e6'}\n              id=\"search-input\"\n              name=\"search-input\"\n              aria-label=\"Search files\"\n            />\n            <Search size={16} style={{\n              position: 'absolute',\n              right: '1rem',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              color: '#6c757d'\n            }} />\n          </div>\n        </div>\n\n        {/* File List/Grid */}\n        {loading ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '3rem', \n            color: '#6c757d' \n          }}>\n            <Loader size={32} style={{ \n              marginBottom: '1rem',\n              animation: 'spin 1s linear infinite'\n            }} />\n            <div>Loading files...</div>\n          </div>\n        ) : filteredFiles.length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: '3rem', \n            color: '#6c757d' \n          }}>\n            {searchQuery ? (\n              <>\n                <Search size={48} style={{ marginBottom: '1rem', opacity: 0.5 }} />\n                <div>No files match your search</div>\n              </>\n            ) : (\n              <>\n                <File size={48} style={{ marginBottom: '1rem', opacity: 0.5 }} />\n                <div>No files uploaded yet</div>\n                <div style={{ fontSize: '0.9rem', marginTop: '0.5rem' }}>\n                  Upload your first work file above\n                </div>\n              </>\n            )}\n          </div>\n        ) : (\n          <div style={{\n            display: viewMode === 'grid' ? 'grid' : 'flex',\n            flexDirection: viewMode === 'list' ? 'column' : undefined,\n            gridTemplateColumns: viewMode === 'grid' ? 'repeat(auto-fill, minmax(280px, 1fr))' : undefined,\n            gap: '1rem'\n          }}>\n            {filteredFiles.map((file) => (\n              <div\n                key={file.name}\n                style={{\n                  border: '1px solid #e9ecef',\n                  borderRadius: '8px',\n                  padding: '1rem',\n                  backgroundColor: '#fafafa',\n                  transition: 'all 0.2s ease',\n                  cursor: 'default'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.borderColor = '#007BFF'\n                  e.currentTarget.style.backgroundColor = '#f8f9ff'\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.borderColor = '#e9ecef'\n                  e.currentTarget.style.backgroundColor = '#fafafa'\n                }}\n              >\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'flex-start', \n                  justifyContent: 'space-between',\n                  gap: '1rem'\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'flex-start', gap: '0.75rem', flex: 1 }}>\n                    {getFileIcon(file.name)}\n                    <div style={{ flex: 1, minWidth: 0 }}>\n                      <div style={{ \n                        fontWeight: '600', \n                        color: '#212529',\n                        marginBottom: '0.25rem',\n                        wordBreak: 'break-word'\n                      }}>\n                        {file.name.replace(/^\\d+-/, '')}\n                      </div>\n                      <div style={{ \n                        fontSize: '0.85rem', \n                        color: '#6c757d',\n                        marginBottom: '0.25rem'\n                      }}>\n                        {formatFileSize(file.metadata?.size)}\n                      </div>\n                      {file.updated_at && (\n                        <div style={{ \n                          fontSize: '0.8rem', \n                          color: '#6c757d'\n                        }}>\n                          {new Date(file.updated_at).toLocaleDateString()} {new Date(file.updated_at).toLocaleTimeString()}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div style={{ display: 'flex', gap: '0.25rem', flexShrink: 0 }}>\n                    <button\n                      onClick={() => downloadFile(file.name)}\n                      disabled={!isOnline}\n                      style={{\n                        padding: '0.5rem',\n                        border: 'none',\n                        borderRadius: '6px',\n                        backgroundColor: isOnline ? '#007BFF' : '#6c757d',\n                        color: 'white',\n                        cursor: isOnline ? 'pointer' : 'not-allowed',\n                        display: 'flex',\n                        alignItems: 'center',\n                        fontSize: '0.8rem'\n                      }}\n                      title=\"Download file\"\n                      aria-label=\"Download file\"\n                    >\n                      <Download size={14} />\n                    </button>\n                    <button\n                      onClick={() => copyFileLink(file.name)}\n                      disabled={!isOnline}\n                      style={{\n                        padding: '0.5rem',\n                        border: 'none',\n                        borderRadius: '6px',\n                        backgroundColor: isOnline ? '#28a745' : '#6c757d',\n                        color: 'white',\n                        cursor: isOnline ? 'pointer' : 'not-allowed',\n                        display: 'flex',\n                        alignItems: 'center',\n                        fontSize: '0.8rem'\n                      }}\n                      title=\"Copy file link\"\n                      aria-label=\"Copy file link\"\n                    >\n                      <Copy size={14} />\n                    </button>\n                    <button\n                      onClick={() => deleteFile(file.name)}\n                      disabled={!isOnline}\n                      style={{\n                        padding: '0.5rem',\n                        border: 'none',\n                        borderRadius: '6px',\n                        backgroundColor: isOnline ? '#dc3545' : '#6c757d',\n                        color: 'white',\n                        cursor: isOnline ? 'pointer' : 'not-allowed',\n                        display: 'flex',\n                        alignItems: 'center',\n                        fontSize: '0.8rem'\n                      }}\n                      title=\"Delete file\"\n                      aria-label=\"Delete file\"\n                    >\n                      <Trash2 size={14} aria-hidden=\"true\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        \n        @media (max-width: 768px) {\n          .container {\n            padding: 0.5rem;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default FileUploader"],"names":["FileUploader","files","setFiles","useState","loading","setLoading","uploading","setUploading","message","setMessage","isOnline","setIsOnline","uploadProgress","setUploadProgress","searchQuery","setSearchQuery","filteredFiles","setFilteredFiles","viewMode","setViewMode","selectedFiles","setSelectedFiles","dragActive","setDragActive","fileInputRef","useRef","useEffect","handleOnline","handleOffline","loadFiles","filtered","file","data","error","supabase","showMessage","handleFileSelect","e","f","uploadFiles","handleDrop","droppedFiles","handleDrag","filesToUpload","results","fileName","prev","successful","r","failed","downloadFile","url","a","deleteFile","getFileIcon","_a","jsx","Image","FileText","Video","Music","Archive","File","formatFileSize","size","copyFileLink","type","text","jsxs","CloudOff","CheckCircle","AlertCircle","XCircle","Cloud","Loader","Upload","progress","List","Grid","RefreshCw","Search","Fragment","Download","Copy","Trash2"],"mappings":"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"}