{"version":3,"file":"VoiceInput-D0OlIcFS.js","sources":["../../src/components/VoiceInput.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { addTask } from '../store/slices/tasksSlice'\nimport { addShoppingItem } from '../store/slices/shoppingSlice'\n\nconst VoiceInput = () => {\n  const [isListening, setIsListening] = useState(false)\n  const [transcript, setTranscript] = useState('')\n  const [confidence, setConfidence] = useState(0)\n  const [error, setError] = useState('')\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [voiceCommands, setVoiceCommands] = useState([])\n  const [isContinuousMode, setIsContinuousMode] = useState(false)\n  const [feedback, setFeedback] = useState('')\n  \n  const recognitionRef = useRef(null)\n  const dispatch = useDispatch()\n\n  // Voice command registry\n  const commandRegistry = {\n    // Navigation commands\n    'go to dashboard': () => window.location.hash = '#dashboard',\n    'go to tasks': () => window.location.hash = '#tasks',\n    'go to photos': () => window.location.hash = '#photos',\n    'go to shopping': () => window.location.hash = '#shopping',\n    'go to maintenance': () => window.location.hash = '#maintenance',\n    \n    // Task commands\n    'create task': (params) => handleCreateTask(params),\n    'complete task': (params) => handleCompleteTask(params),\n    'delete task': (params) => handleDeleteTask(params),\n    'mark task as done': (params) => handleCompleteTask(params),\n    \n    // Shopping commands\n    'add to shopping list': (params) => handleAddShoppingItem(params),\n    'buy': (params) => handleAddShoppingItem(params),\n    'purchase': (params) => handleAddShoppingItem(params),\n    \n    // Photo commands\n    'take photo': () => handleTakePhoto(),\n    'capture image': () => handleTakePhoto(),\n    'document equipment': () => handleTakePhoto(),\n    \n    // System commands\n    'stop listening': () => stopListening(),\n    'start listening': () => startListening(),\n    'help': () => showHelp(),\n    'what can I say': () => showHelp(),\n    \n    // Maintenance commands\n    'check equipment': (params) => handleCheckEquipment(params),\n    'schedule maintenance': (params) => handleScheduleMaintenance(params),\n    'report issue': (params) => handleReportIssue(params)\n  }\n\n  // Initialize Web Speech API\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\n      recognitionRef.current = new SpeechRecognition()\n      \n      recognitionRef.current.continuous = true\n      recognitionRef.current.interimResults = true\n      recognitionRef.current.lang = 'en-US'\n      \n      recognitionRef.current.onstart = () => {\n        setIsListening(true)\n        setError('')\n        setFeedback('Listening...')\n      }\n      \n      recognitionRef.current.onresult = (event) => {\n        let finalTranscript = ''\n        let interimTranscript = ''\n        \n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript\n          const confidence = event.results[i][0].confidence\n          \n          if (event.results[i].isFinal) {\n            finalTranscript += transcript\n            setConfidence(confidence)\n          } else {\n            interimTranscript += transcript\n          }\n        }\n        \n        setTranscript(finalTranscript || interimTranscript)\n        \n        if (finalTranscript) {\n          processVoiceCommand(finalTranscript.toLowerCase())\n        }\n      }\n      \n      recognitionRef.current.onerror = (event) => {\n        console.error('Speech recognition error:', event.error)\n        setError(`Voice recognition error: ${event.error}`)\n        setIsListening(false)\n        setFeedback('Error occurred')\n      }\n      \n      recognitionRef.current.onend = () => {\n        setIsListening(false)\n        setFeedback('Stopped listening')\n        \n        if (isContinuousMode) {\n          setTimeout(() => {\n            startListening()\n          }, 1000)\n        }\n      }\n    } else {\n      setError('Speech recognition not supported in this browser')\n    }\n  }, [isContinuousMode])\n\n  // Process voice commands with Claude API integration\n  const processVoiceCommand = useCallback(async (command) => {\n    setIsProcessing(true)\n    setFeedback('Processing command...')\n    \n    try {\n      // First, try to match with predefined commands\n      const matchedCommand = Object.keys(commandRegistry).find(cmd => \n        command.includes(cmd)\n      )\n      \n      if (matchedCommand) {\n        const params = command.replace(matchedCommand, '').trim()\n        commandRegistry[matchedCommand](params)\n        setFeedback(`Executed: ${matchedCommand}`)\n        return\n      }\n      \n      // If no direct match, use Claude API for natural language processing\n      const claudeResponse = await processWithClaude(command)\n      \n      if (claudeResponse.action) {\n        executeClaudeAction(claudeResponse)\n        setFeedback(`AI processed: ${claudeResponse.action}`)\n      } else {\n        setFeedback('Command not recognized. Try saying \"help\" for available commands.')\n      }\n      \n    } catch (error) {\n      console.error('Error processing voice command:', error)\n      setError('Failed to process command')\n      setFeedback('Processing failed')\n    } finally {\n      setIsProcessing(false)\n    }\n  }, [])\n\n  // Claude API integration for natural language processing\n  const processWithClaude = async (command) => {\n    try {\n      const response = await fetch('/api/claude/process-voice', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          command,\n          context: {\n            currentTab: window.location.hash.replace('#', ''),\n            availableActions: Object.keys(commandRegistry)\n          }\n        })\n      })\n      \n      if (!response.ok) {\n        throw new Error('Claude API request failed')\n      }\n      \n      return await response.json()\n    } catch (error) {\n      console.error('Claude API error:', error)\n      return { action: null, error: error.message }\n    }\n  }\n\n  // Execute actions from Claude API\n  const executeClaudeAction = (response) => {\n    switch (response.action) {\n      case 'create_task':\n        handleCreateTask(response.params)\n        break\n      case 'add_shopping_item':\n        handleAddShoppingItem(response.params)\n        break\n      case 'navigate':\n        window.location.hash = `#${response.params}`\n        break\n      case 'take_photo':\n        handleTakePhoto()\n        break\n      default:\n        console.log('Unknown action from Claude:', response.action)\n    }\n  }\n\n  // Command handlers\n  const handleCreateTask = (description) => {\n    if (!description) {\n      setFeedback('Please provide a task description')\n      return\n    }\n    \n    const task = {\n      id: Date.now(),\n      title: description,\n      description: `Voice-created task: ${description}`,\n      status: 'pending',\n      priority: 'medium',\n      category: 'voice',\n      creation_date: new Date().toISOString(),\n      voice_created: true\n    }\n    \n    dispatch(addTask(task))\n    setFeedback(`Task created: ${description}`)\n    setTranscript('')\n  }\n\n  const handleCompleteTask = (taskId) => {\n    // Implementation for completing tasks\n    setFeedback(`Task ${taskId} marked as complete`)\n  }\n\n  const handleDeleteTask = (taskId) => {\n    // Implementation for deleting tasks\n    setFeedback(`Task ${taskId} deleted`)\n  }\n\n  const handleAddShoppingItem = (item) => {\n    if (!item) {\n      setFeedback('Please provide an item name')\n      return\n    }\n    \n    const shoppingItem = {\n      id: Date.now(),\n      name: item,\n      category: 'voice',\n      quantity: 1,\n      priority: 'medium',\n      voice_created: true\n    }\n    \n    dispatch(addShoppingItem(shoppingItem))\n    setFeedback(`Added to shopping: ${item}`)\n    setTranscript('')\n  }\n\n  const handleTakePhoto = () => {\n    // Trigger photo capture\n    const photoButton = document.querySelector('[data-photo-capture]')\n    if (photoButton) {\n      photoButton.click()\n      setFeedback('Photo capture triggered')\n    } else {\n      setFeedback('Photo capture not available')\n    }\n  }\n\n  const handleCheckEquipment = (equipment) => {\n    setFeedback(`Checking equipment: ${equipment}`)\n  }\n\n  const handleScheduleMaintenance = (equipment) => {\n    setFeedback(`Scheduling maintenance for: ${equipment}`)\n  }\n\n  const handleReportIssue = (issue) => {\n    setFeedback(`Issue reported: ${issue}`)\n  }\n\n  const showHelp = () => {\n    const commands = Object.keys(commandRegistry).map(cmd => `\"${cmd}\"`).join(', ')\n    setFeedback(`Available commands: ${commands}`)\n  }\n\n  // Control functions\n  const startListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.start()\n    }\n  }\n\n  const stopListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop()\n    }\n    setIsContinuousMode(false)\n  }\n\n  const toggleContinuousMode = () => {\n    setIsContinuousMode(!isContinuousMode)\n    if (!isContinuousMode && !isListening) {\n      startListening()\n    }\n  }\n\n  // Haptic feedback for mobile\n  const triggerHapticFeedback = () => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(50)\n    }\n  }\n\n  // Mobile optimization\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.hidden && isListening) {\n        stopListening()\n      }\n    }\n\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n    }\n  }, [isListening])\n\n  return (\n    <div className=\"voice-input-container\" style={{\n      position: 'fixed',\n      bottom: '20px',\n      right: '20px',\n      zIndex: 1000,\n      background: 'white',\n      borderRadius: '20px',\n      padding: '20px',\n      boxShadow: '0 4px 20px rgba(0,0,0,0.15)',\n      minWidth: '300px',\n      maxWidth: '400px'\n    }}>\n      {/* Status Display */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        marginBottom: '15px'\n      }}>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px'\n        }}>\n          <div style={{\n            width: '12px',\n            height: '12px',\n            borderRadius: '50%',\n            background: isListening ? '#4CAF50' : '#ccc',\n            animation: isListening ? 'pulse 1.5s infinite' : 'none'\n          }} />\n          <span style={{\n            fontSize: '14px',\n            fontWeight: 'bold',\n            color: isListening ? '#4CAF50' : '#666'\n          }}>\n            {isListening ? 'Listening' : 'Voice Off'}\n          </span>\n        </div>\n        \n        {confidence > 0 && (\n          <div style={{\n            fontSize: '12px',\n            color: '#666'\n          }}>\n            Confidence: {Math.round(confidence * 100)}%\n          </div>\n        )}\n      </div>\n\n      {/* Transcript Display */}\n      {transcript && (\n        <div style={{\n          background: '#f5f5f5',\n          padding: '10px',\n          borderRadius: '8px',\n          marginBottom: '15px',\n          fontSize: '14px',\n          minHeight: '40px',\n          wordWrap: 'break-word'\n        }}>\n          \"{transcript}\"\n        </div>\n      )}\n\n      {/* Feedback Display */}\n      {feedback && (\n        <div style={{\n          background: '#e3f2fd',\n          padding: '8px 12px',\n          borderRadius: '6px',\n          marginBottom: '15px',\n          fontSize: '13px',\n          color: '#1976d2'\n        }}>\n          {feedback}\n        </div>\n      )}\n\n      {/* Error Display */}\n      {error && (\n        <div style={{\n          background: '#ffebee',\n          padding: '8px 12px',\n          borderRadius: '6px',\n          marginBottom: '15px',\n          fontSize: '13px',\n          color: '#d32f2f'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Control Buttons */}\n      <div style={{\n        display: 'flex',\n        gap: '10px',\n        flexWrap: 'wrap'\n      }}>\n        <button\n          onClick={() => {\n            if (isListening) {\n              stopListening()\n            } else {\n              startListening()\n            }\n            triggerHapticFeedback()\n          }}\n          disabled={isProcessing}\n          style={{\n            background: isListening ? '#f44336' : '#4CAF50',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '25px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            flex: 1,\n            minWidth: '120px'\n          }}\n        >\n          {isListening ? 'Stop' : 'Start'} Listening\n        </button>\n\n        <button\n          onClick={toggleContinuousMode}\n          style={{\n            background: isContinuousMode ? '#ff9800' : '#2196F3',\n            color: 'white',\n            border: 'none',\n            padding: '10px 15px',\n            borderRadius: '25px',\n            cursor: 'pointer',\n            fontSize: '12px',\n            fontWeight: 'bold'\n          }}\n        >\n          {isContinuousMode ? 'Continuous' : 'Auto'}\n        </button>\n\n        <button\n          onClick={() => {\n            showHelp()\n            triggerHapticFeedback()\n          }}\n          style={{\n            background: '#9c27b0',\n            color: 'white',\n            border: 'none',\n            padding: '10px 15px',\n            borderRadius: '25px',\n            cursor: 'pointer',\n            fontSize: '12px',\n            fontWeight: 'bold'\n          }}\n        >\n          Help\n        </button>\n      </div>\n\n      {/* Processing Indicator */}\n      {isProcessing && (\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: '10px',\n          gap: '8px'\n        }}>\n          <div style={{\n            width: '16px',\n            height: '16px',\n            border: '2px solid #f3f3f3',\n            borderTop: '2px solid #3498db',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite'\n          }} />\n          <span style={{ fontSize: '12px', color: '#666' }}>\n            Processing...\n          </span>\n        </div>\n      )}\n\n      {/* Quick Commands */}\n      <div style={{\n        marginTop: '15px',\n        paddingTop: '15px',\n        borderTop: '1px solid #eee'\n      }}>\n        <div style={{\n          fontSize: '12px',\n          color: '#666',\n          marginBottom: '8px'\n        }}>\n          Quick Commands:\n        </div>\n        <div style={{\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '5px'\n        }}>\n          {['\"create task\"', '\"take photo\"', '\"go to tasks\"', '\"help\"'].map(cmd => (\n            <button\n              key={cmd}\n              onClick={() => {\n                setTranscript(cmd.replace(/\"/g, ''))\n                processVoiceCommand(cmd.replace(/\"/g, ''))\n              }}\n              style={{\n                background: '#f0f0f0',\n                border: '1px solid #ddd',\n                padding: '4px 8px',\n                borderRadius: '12px',\n                fontSize: '11px',\n                cursor: 'pointer',\n                color: '#333'\n              }}\n            >\n              {cmd}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* CSS Animations */}\n      <style>{`\n        @keyframes pulse {\n          0% { opacity: 1; }\n          50% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @media (max-width: 768px) {\n          .voice-input-container {\n            bottom: 10px;\n            right: 10px;\n            left: 10px;\n            max-width: none;\n          }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default VoiceInput "],"names":["VoiceInput","isListening","setIsListening","useState","transcript","setTranscript","confidence","setConfidence","error","setError","isProcessing","setIsProcessing","voiceCommands","setVoiceCommands","isContinuousMode","setIsContinuousMode","feedback","setFeedback","recognitionRef","useRef","dispatch","useDispatch","commandRegistry","params","handleCreateTask","handleCompleteTask","handleDeleteTask","handleAddShoppingItem","handleTakePhoto","stopListening","startListening","showHelp","handleCheckEquipment","handleScheduleMaintenance","handleReportIssue","useEffect","SpeechRecognition","event","finalTranscript","interimTranscript","i","processVoiceCommand","useCallback","command","matchedCommand","cmd","claudeResponse","processWithClaude","executeClaudeAction","response","description","task","addTask","taskId","item","shoppingItem","addShoppingItem","photoButton","equipment","issue","commands","toggleContinuousMode","triggerHapticFeedback","handleVisibilityChange","jsxs","jsx"],"mappings":"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"}