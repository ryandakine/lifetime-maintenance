{"version":3,"file":"Knowledge-baEqYva6.js","sources":["../../src/components/Knowledge.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { supabase, TABLES, API_KEYS } from '../lib/supabase'\nimport { \n  BookOpen, \n  Search, \n  Brain,\n  Loader,\n  AlertCircle,\n  CheckCircle,\n  XCircle,\n  MessageSquare,\n  RotateCcw,\n  Plus,\n  Trash2,\n  Filter,\n  List,\n  Grid,\n  Zap,\n  Package,\n  Clock,\n  User,\n  Calendar,\n  Star,\n  Bookmark,\n  Share2,\n  Copy,\n  Download,\n  Upload,\n  RefreshCw,\n  Settings,\n  HelpCircle,\n  Info,\n  Lightbulb,\n  Wrench,\n  Hammer,\n  Shield,\n  AlertTriangle\n} from 'lucide-react'\n\nconst Knowledge = () => {\n  console.log('Rendering Knowledge')\n  const [knowledgeEntries, setKnowledgeEntries] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [message, setMessage] = useState({ type: '', text: '' })\n  const [isOnline, setIsOnline] = useState(navigator.onLine)\n  const [question, setQuestion] = useState('')\n  const [processing, setProcessing] = useState(false)\n  const [searchQuery, setSearchQuery] = useState('')\n  const [filteredEntries, setFilteredEntries] = useState([])\n  const [selectedEntry, setSelectedEntry] = useState(null)\n  const [viewMode, setViewMode] = useState('list') // 'list' or 'grid'\n  const [isListening, setIsListening] = useState(false)\n  const [transcript, setTranscript] = useState('')\n  const [listeningTimeout, setListeningTimeout] = useState(null)\n  const [showVoiceModal, setShowVoiceModal] = useState(false)\n  const [voiceModalText, setVoiceModalText] = useState('')\n  const [voiceModalListening, setVoiceModalListening] = useState(false)\n  const [voiceModalRecognitionRef, setVoiceModalRecognitionRef] = useState(null)\n  const [aiSuggestions, setAiSuggestions] = useState([])\n  const [showAnalytics, setShowAnalytics] = useState(false)\n\n  // Check online status\n  useEffect(() => {\n    const handleOnline = () => setIsOnline(true)\n    const handleOffline = () => setIsOnline(false)\n\n    window.addEventListener('online', handleOnline)\n    window.addEventListener('offline', handleOffline)\n\n    return () => {\n      window.removeEventListener('online', handleOnline)\n      window.removeEventListener('offline', handleOffline)\n    }\n  }, [])\n\n  // Load knowledge entries on component mount\n  useEffect(() => {\n    loadKnowledgeEntries()\n  }, [])\n\n  // Handle voice commands\n  useEffect(() => {\n    const voiceKnowledge = localStorage.getItem('voiceKnowledge')\n    if (voiceKnowledge) {\n      setQuestion(voiceKnowledge)\n      localStorage.removeItem('voiceKnowledge')\n      // Auto-process the voice knowledge search\n      setTimeout(() => {\n        processQuestion()\n      }, 500)\n    }\n  }, [])\n\n  // Filter entries based on search query\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFilteredEntries(knowledgeEntries)\n    } else {\n      const filtered = knowledgeEntries.filter(entry => \n        entry.question.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        entry.response.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n      setFilteredEntries(filtered)\n    }\n  }, [searchQuery, knowledgeEntries])\n\n  const loadKnowledgeEntries = async () => {\n    try {\n      setLoading(true)\n      const { data, error } = await supabase\n        .from(TABLES.KNOWLEDGE)\n        .select('*')\n        .eq('user_id', 'current-user')\n        .order('created_at', { ascending: false })\n\n      if (error) throw error\n      setKnowledgeEntries(data || [])\n      setFilteredEntries(data || [])\n      console.log('Knowledge entries loaded:', data?.length || 0)\n    } catch (error) {\n      console.error('Error loading knowledge entries:', error)\n      console.log('Knowledge component: Data load failed, showing fallback')\n      showMessage('error', 'Failed to load knowledge entries')\n      setKnowledgeEntries([]) // Ensure empty state for fallback\n      setFilteredEntries([]) // Ensure empty filtered state for fallback\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const processQuestion = async () => {\n    if (!question.trim()) return\n\n    try {\n      setProcessing(true)\n      const grokApiKey = API_KEYS.GROK_PRO\n\n      if (!grokApiKey || grokApiKey === 'your-grok-key') {\n        console.warn('Grok Pro API key not configured, using fallback response')\n        // Fallback: simple response without API\n        const fallbackResponse = `Steps to ${question}:\n1. Gather necessary tools and supplies\n2. Ensure safety measures are in place\n3. Follow standard maintenance procedures\n4. Test the completed work\n5. Document any issues or notes\n\nTools needed: Basic maintenance tools\nSupplies needed: Standard maintenance supplies\nTime estimate: 1-2 hours\nDifficulty: Moderate\n\nNote: This is a fallback response. Configure Grok Pro API for detailed, specific guidance.`\n        \n        await saveKnowledgeEntry(question, fallbackResponse)\n        return\n      }\n\n      console.log('Processing question with Grok Pro...')\n\n      const response = await fetch('https://api.x.ai/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${grokApiKey}`\n        },\n        body: JSON.stringify({\n          model: 'grok-beta',\n          messages: [\n            {\n              role: 'system',\n              content: `You are a professional maintenance expert for Lifetime Fitness facilities. Provide detailed, step-by-step instructions for maintenance and repair tasks. Always include:\n1. Safety considerations\n2. Required tools (specific tool names)\n3. Required supplies (specific part numbers or descriptions)\n4. Time estimates\n5. Difficulty level\n6. Step-by-step instructions\n7. Troubleshooting tips\n\nFormat your response with clear sections and bullet points. Be specific and practical.`\n            },\n            {\n              role: 'user',\n              content: `Provide detailed maintenance instructions for: ${question}\n\nInclude:\n- Safety considerations\n- Required tools (be specific)\n- Required supplies (be specific)\n- Time estimate\n- Difficulty level (Easy/Moderate/Difficult)\n- Step-by-step instructions\n- Troubleshooting tips\n\nFormat with clear sections and use bullet points for easy reading.`\n            }\n          ],\n          max_tokens: 2000,\n          temperature: 0.3\n        })\n      })\n\n      if (!response.ok) {\n        const errorText = await response.text()\n        console.error('Grok API error:', response.status, errorText)\n        throw new Error(`Grok API error: ${response.status}`)\n      }\n\n      const result = await response.json()\n      const grokResponse = result.choices[0].message.content\n      \n      console.log('Grok response generated:', grokResponse)\n\n      await saveKnowledgeEntry(question, grokResponse)\n\n    } catch (error) {\n      console.error('Error processing question:', error)\n      showMessage('error', 'Failed to process question. Using fallback response.')\n      \n      // Fallback: simple response\n      const fallbackResponse = `Steps to ${question}:\n1. Gather necessary tools and supplies\n2. Ensure safety measures are in place\n3. Follow standard maintenance procedures\n4. Test the completed work\n5. Document any issues or notes\n\nTools needed: Basic maintenance tools\nSupplies needed: Standard maintenance supplies\nTime estimate: 1-2 hours\nDifficulty: Moderate\n\nNote: This is a fallback response. Configure Grok Pro API for detailed, specific guidance.`\n      \n      await saveKnowledgeEntry(question, fallbackResponse)\n    } finally {\n      setProcessing(false)\n      setQuestion('')\n    }\n  }\n\n  const saveKnowledgeEntry = async (questionText, responseText) => {\n    try {\n      const { error } = await supabase\n        .from(TABLES.KNOWLEDGE)\n        .insert({\n          user_id: 'current-user',\n          question: questionText,\n          response: responseText,\n          created_at: new Date().toISOString()\n        })\n\n      if (error) throw error\n\n      console.log('Knowledge entry saved successfully')\n      showMessage('success', 'Knowledge entry created successfully')\n      \n      await loadKnowledgeEntries()\n    } catch (error) {\n      console.error('Error saving knowledge entry:', error)\n      showMessage('error', 'Failed to save knowledge entry')\n    }\n  }\n\n  const deleteKnowledgeEntry = async (entryId) => {\n    try {\n      const { error } = await supabase\n        .from(TABLES.KNOWLEDGE)\n        .delete()\n        .eq('id', entryId)\n\n      if (error) throw error\n\n      setKnowledgeEntries(knowledgeEntries.filter(entry => entry.id !== entryId))\n      setFilteredEntries(filteredEntries.filter(entry => entry.id !== entryId))\n      console.log(`Knowledge entry ${entryId} deleted`)\n      showMessage('success', 'Knowledge entry deleted')\n    } catch (error) {\n      console.error('Error deleting knowledge entry:', error)\n      showMessage('error', 'Failed to delete knowledge entry')\n    }\n  }\n\n  const copyToClipboard = async (text) => {\n    try {\n      await navigator.clipboard.writeText(text)\n      showMessage('success', 'Copied to clipboard')\n    } catch (error) {\n      console.error('Error copying to clipboard:', error)\n      showMessage('error', 'Failed to copy to clipboard')\n    }\n  }\n\n  const formatResponse = (response) => {\n    // Convert markdown-like formatting to HTML\n    return response\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n      .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n      .replace(/\\n/g, '<br>')\n      .replace(/^- (.*)/gm, '‚Ä¢ $1')\n  }\n\n  const getDifficultyColor = (difficulty) => {\n    switch (difficulty?.toLowerCase()) {\n      case 'easy': return 'var(--success-color)'\n      case 'moderate': return 'var(--warning-color)'\n      case 'difficult': return 'var(--danger-color)'\n      default: return 'var(--secondary-color)'\n    }\n  }\n\n  const extractToolsAndSupplies = (response) => {\n    const tools = []\n    const supplies = []\n    \n    // Extract tools and supplies from response\n    const lines = response.split('\\n')\n    lines.forEach(line => {\n      if (line.toLowerCase().includes('tool') && !line.toLowerCase().includes('supply')) {\n        tools.push(line.replace(/.*tool.*?:/i, '').trim())\n      }\n      if (line.toLowerCase().includes('supply')) {\n        supplies.push(line.replace(/.*supply.*?:/i, '').trim())\n      }\n    })\n    \n    return { tools, supplies }\n  }\n\n  const showMessage = (type, text) => {\n    setMessage({ type, text })\n    setTimeout(() => setMessage({ type: '', text: '' }), 5000)\n  }\n\n  // Voice Input Functions\n  const startListening = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      showMessage('error', 'Speech recognition not supported')\n      return\n    }\n\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\n    const recognition = new SpeechRecognition()\n    \n    recognition.continuous = false\n    recognition.interimResults = true\n    recognition.lang = 'en-US'\n\n    recognition.onstart = () => {\n      setIsListening(true)\n      setTranscript('')\n    }\n\n    recognition.onresult = (event) => {\n      let finalTranscript = ''\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        if (event.results[i].isFinal) {\n          finalTranscript += event.results[i][0].transcript\n        }\n      }\n      if (finalTranscript) {\n        setTranscript(finalTranscript)\n        setQuestion(finalTranscript)\n      }\n    }\n\n    recognition.onend = () => {\n      setIsListening(false)\n      if (transcript) {\n        processQuestion()\n      }\n    }\n\n    recognition.onerror = (event) => {\n      console.error('Speech recognition error:', event.error)\n      setIsListening(false)\n    }\n\n    // Auto-stop after 30 seconds\n    const timeout = setTimeout(() => {\n      recognition.stop()\n      recognition.abort()\n    }, 30000)\n    setListeningTimeout(timeout)\n\n    recognition.start()\n  }\n\n  const stopListening = () => {\n    if (listeningTimeout) {\n      clearTimeout(listeningTimeout)\n      setListeningTimeout(null)\n    }\n    try {\n      // Stop any active recognition\n      if (window.speechRecognition) {\n        window.speechRecognition.stop()\n        window.speechRecognition.abort()\n      }\n    } catch (error) {\n      console.log('Recognition already stopped')\n    }\n    \n    setIsListening(false)\n    showMessage('info', 'Voice input stopped.')\n  }\n\n  // Voice Modal Functions\n  const openVoiceModal = () => {\n    setShowVoiceModal(true)\n    setVoiceModalText('')\n  }\n\n  const closeVoiceModal = () => {\n    setShowVoiceModal(false)\n    setVoiceModalText('')\n    if (voiceModalRecognitionRef) {\n      voiceModalRecognitionRef.stop()\n      voiceModalRecognitionRef.abort()\n    }\n  }\n\n  const startVoiceModalListening = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      showMessage('error', 'Speech recognition not supported')\n      return\n    }\n\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\n    const recognition = new SpeechRecognition()\n    \n    recognition.continuous = false\n    recognition.interimResults = true\n    recognition.lang = 'en-US'\n\n    recognition.onstart = () => {\n      setVoiceModalListening(true)\n    }\n\n    recognition.onresult = (event) => {\n      let finalTranscript = ''\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        if (event.results[i].isFinal) {\n          finalTranscript += event.results[i][0].transcript\n        }\n      }\n      if (finalTranscript) {\n        setVoiceModalText(prev => prev + finalTranscript + ' ')\n      }\n    }\n\n    recognition.onend = () => {\n      setVoiceModalListening(false)\n    }\n\n    recognition.onerror = (event) => {\n      console.error('Speech recognition error:', event.error)\n      setVoiceModalListening(false)\n    }\n\n    recognition.start()\n    setVoiceModalRecognitionRef(recognition)\n  }\n\n  const stopVoiceModalListening = () => {\n    if (voiceModalRecognitionRef) {\n      voiceModalRecognitionRef.stop()\n      voiceModalRecognitionRef.abort()\n      setVoiceModalListening(false)\n    }\n  }\n\n  const applyVoiceModalText = () => {\n    if (voiceModalText.trim()) {\n      setQuestion(voiceModalText.trim())\n      closeVoiceModal()\n    }\n  }\n\n  // AI Suggestions\n  const generateAiSuggestions = async () => {\n    try {\n      const perplexityApiKey = import.meta.env.VITE_PERPLEXITY_API_KEY\n      if (!perplexityApiKey) {\n        console.log('Perplexity API key not configured')\n        return\n      }\n\n      const knowledgeSummary = knowledgeEntries.map(entry => ({\n        question: entry.question,\n        response: entry.response,\n        category: entry.category,\n        created_at: entry.created_at\n      }))\n\n      const response = await fetch('https://api.perplexity.ai/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${perplexityApiKey}`\n        },\n        body: JSON.stringify({\n          model: 'gpt-4',\n          messages: [\n            {\n              role: 'user',\n              content: `Analyze this maintenance knowledge base and provide 3-5 suggestions for improving knowledge organization, finding gaps, or adding useful content. Return as JSON array with 'suggestion' and 'reason' fields. Knowledge: ${JSON.stringify(knowledgeSummary)}`\n            }\n          ]\n        })\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        const messageContent = data.choices[0].message.content\n        const suggestions = JSON.parse(messageContent)\n        setAiSuggestions(suggestions)\n      }\n    } catch (error) {\n      console.error('Error generating AI suggestions:', error)\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      {!isOnline && (\n        <div className=\"offline-alert\">\n          ‚ö†Ô∏è You are currently offline. Knowledge search may not work properly.\n        </div>\n      )}\n\n      {message.text && (\n        <div className={`message ${message.type}`}>\n          {message.text}\n        </div>\n      )}\n\n      {/* Knowledge Input Section */}\n      <div className=\"card\">\n        <h3>Maintenance Knowledge Base</h3>\n        <p style={{ color: 'var(--secondary-color)', marginBottom: '1rem' }}>\n          Ask questions about maintenance procedures and get detailed, step-by-step instructions with tools and supplies.\n        </p>\n        \n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"knowledge-question\">What maintenance question do you have?</label>\n          <textarea\n            id=\"knowledge-question\"\n            name=\"knowledge-question\"\n            className=\"form-input\"\n            value={question}\n            onChange={(e) => setQuestion(e.target.value)}\n            placeholder=\"Example: How to change a light bulb, How to fix HVAC filter, How to repair concrete cracks\"\n            rows={3}\n            disabled={processing}\n          />\n        </div>\n\n        <button\n          className=\"btn\"\n          onClick={processQuestion}\n          disabled={!question.trim() || processing}\n          title=\"Get maintenance knowledge\"\n          aria-label=\"Get maintenance knowledge\"\n        >\n          {processing ? (\n            <>\n              <Loader size={16} style={{ marginRight: '0.5rem', animation: 'spin 1s linear infinite' }} aria-hidden=\"true\" />\n              Generating response...\n            </>\n          ) : (\n            <>\n              <Brain size={16} style={{ marginRight: '0.5rem' }} aria-hidden=\"true\" />\n              Get Knowledge\n            </>\n          )}\n        </button>\n\n        {/* Voice Input Section */}\n        <div style={{ \n          marginTop: '1rem', \n          padding: '1rem', \n          backgroundColor: isListening ? 'var(--warning-color)' : 'var(--light-color)', \n          borderRadius: '8px',\n          border: isListening ? '2px solid var(--warning-color)' : '1px solid var(--border-color)',\n          textAlign: 'center'\n        }}>\n          <h4 style={{ \n            marginBottom: '0.5rem', \n            color: isListening ? 'white' : 'var(--primary-color)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.5rem'\n          }}>\n            <MessageSquare size={20} />\n            Voice Input\n          </h4>\n          \n          {/* Voice Buttons */}\n          <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center', marginBottom: '1rem' }}>\n            <button\n              onClick={isListening ? stopListening : startListening}\n              style={{\n                padding: '1rem 2rem',\n                borderRadius: '50px',\n                border: 'none',\n                backgroundColor: isListening ? '#dc3545' : 'var(--primary-color)',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '1.1rem',\n                fontWeight: '600',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                transition: 'all 0.3s ease',\n                boxShadow: isListening ? '0 0 20px rgba(220, 53, 69, 0.5)' : '0 2px 8px rgba(0,0,0,0.1)',\n                animation: isListening ? 'pulse 2s infinite' : 'none'\n              }}\n            >\n              {isListening ? (\n                <>\n                  <Square size={20} />\n                  STOP LISTENING\n                </>\n              ) : (\n                <>\n                  <MessageSquare size={20} />\n                  Quick Voice\n                </>\n              )}\n            </button>\n            \n            <button\n              onClick={openVoiceModal}\n              style={{\n                padding: '1rem 2rem',\n                borderRadius: '50px',\n                border: '2px solid var(--primary-color)',\n                backgroundColor: 'white',\n                color: 'var(--primary-color)',\n                cursor: 'pointer',\n                fontSize: '1.1rem',\n                fontWeight: '600',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                transition: 'all 0.3s ease'\n              }}\n            >\n              <MessageSquare size={20} />\n              Voice Modal\n            </button>\n          </div>\n          \n          {/* Voice Status */}\n          {isListening && (\n            <div style={{ \n              color: 'white', \n              fontSize: '0.9rem',\n              marginBottom: '0.5rem',\n              textAlign: 'center',\n              fontWeight: '600'\n            }}>\n              üé§ LISTENING - Click \"STOP LISTENING\" to stop\n            </div>\n          )}\n          \n          {/* Voice Transcript */}\n          {transcript && (\n            <div style={{ \n              marginTop: '0.5rem',\n              padding: '0.5rem',\n              backgroundColor: 'white',\n              borderRadius: '4px',\n              fontSize: '0.9rem',\n              color: 'var(--text-color)',\n              minHeight: '40px'\n            }}>\n              <strong>You said:</strong> {transcript}\n            </div>\n          )}\n        </div>\n\n        {/* Knowledge Features */}\n        <div style={{ marginTop: '1rem', padding: '1rem', backgroundColor: 'var(--light-color)', borderRadius: '8px' }}>\n          <h4 style={{ marginBottom: '0.5rem', color: 'var(--primary-color)' }}>\n            <Lightbulb size={16} style={{ marginRight: '0.5rem' }} aria-hidden=\"true\" />\n            Knowledge Features\n          </h4>\n          <div style={{ fontSize: '0.9rem', color: 'var(--secondary-color)' }}>\n            <div>‚Ä¢ Step-by-step maintenance instructions</div>\n            <div>‚Ä¢ Required tools and supplies lists</div>\n            <div>‚Ä¢ Safety considerations and time estimates</div>\n            <div>‚Ä¢ Difficulty levels and troubleshooting tips</div>\n          </div>\n        </div>\n\n        {/* AI Suggestions */}\n        <div style={{ marginTop: '1rem', padding: '1rem', backgroundColor: 'var(--light-color)', borderRadius: '8px' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n            <h4 style={{ color: 'var(--primary-color)', margin: 0 }}>ü§ñ AI Knowledge Suggestions</h4>\n            <button\n              onClick={generateAiSuggestions}\n              style={{\n                padding: '0.5rem 1rem',\n                borderRadius: '4px',\n                border: '1px solid var(--border-color)',\n                backgroundColor: 'var(--primary-color)',\n                color: 'white',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem'\n              }}\n            >\n              <Brain size={16} />\n              Get AI Suggestions\n            </button>\n          </div>\n          \n          {aiSuggestions.length > 0 && (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n              {aiSuggestions.map((suggestion, index) => (\n                <div key={index} style={{ \n                  padding: '0.75rem', \n                  backgroundColor: 'white', \n                  borderRadius: '6px',\n                  border: '1px solid var(--border-color)'\n                }}>\n                  <div style={{ fontWeight: '500', marginBottom: '0.25rem' }}>{suggestion.suggestion}</div>\n                  <div style={{ fontSize: '0.8rem', color: 'var(--secondary-color)' }}>{suggestion.reason}</div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Voice Modal */}\n      {showVoiceModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            backgroundColor: 'white',\n            padding: '2rem',\n            borderRadius: '12px',\n            width: '90%',\n            maxWidth: '500px',\n            boxShadow: '0 10px 25px rgba(0, 0, 0, 0.2)'\n          }}>\n            <h3 style={{ marginBottom: '1rem', color: 'var(--primary-color)' }}>üé§ Voice Knowledge Input</h3>\n            \n            <div style={{ marginBottom: '1rem' }}>\n              <textarea\n                value={voiceModalText}\n                onChange={(e) => setVoiceModalText(e.target.value)}\n                placeholder=\"Your voice input will appear here...\"\n                style={{\n                  width: '100%',\n                  minHeight: '100px',\n                  padding: '0.75rem',\n                  borderRadius: '8px',\n                  border: '1px solid var(--border-color)',\n                  fontSize: '0.9rem',\n                  resize: 'vertical'\n                }}\n              />\n            </div>\n            \n            <div style={{ display: 'flex', gap: '0.5rem', justifyContent: 'center' }}>\n              <button\n                onClick={voiceModalListening ? stopVoiceModalListening : startVoiceModalListening}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '8px',\n                  border: 'none',\n                  backgroundColor: voiceModalListening ? '#dc3545' : 'var(--primary-color)',\n                  color: 'white',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                }}\n              >\n                {voiceModalListening ? <Square size={16} /> : <MessageSquare size={16} />}\n                {voiceModalListening ? 'Stop' : 'Start'} Recording\n              </button>\n              \n              <button\n                onClick={applyVoiceModalText}\n                disabled={!voiceModalText.trim()}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '8px',\n                  border: 'none',\n                  backgroundColor: voiceModalText.trim() ? 'var(--success-color)' : 'var(--secondary-color)',\n                  color: 'white',\n                  cursor: voiceModalText.trim() ? 'pointer' : 'not-allowed'\n                }}\n              >\n                Ask Question\n              </button>\n              \n              <button\n                onClick={closeVoiceModal}\n                style={{\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '8px',\n                  border: '1px solid var(--border-color)',\n                  backgroundColor: 'white',\n                  color: 'var(--text-color)',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Search Section */}\n      <div className=\"card\">\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n          <h3>Knowledge Library</h3>\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => setViewMode('list')}\n              style={{ \n                backgroundColor: viewMode === 'list' ? 'var(--primary-color)' : 'var(--secondary-color)',\n                color: 'white'\n              }}\n              title=\"View as list\"\n              aria-label=\"View as list\"\n            >\n              <List size={16} aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => setViewMode('grid')}\n              style={{ \n                backgroundColor: viewMode === 'grid' ? 'var(--primary-color)' : 'var(--secondary-color)',\n                color: 'white'\n              }}\n              title=\"View as grid\"\n              aria-label=\"View as grid\"\n            >\n              <Grid size={16} aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-secondary\"\n              onClick={loadKnowledgeEntries}\n              disabled={loading}\n              title=\"Refresh knowledge base\"\n              aria-label=\"Refresh knowledge base\"\n            >\n              <RotateCcw size={16} aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"knowledge-search\">Search Knowledge</label>\n          <div style={{ display: 'flex', gap: '0.5rem' }}>\n            <input\n              type=\"text\"\n              className=\"form-input\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search questions and responses...\"\n              style={{ flex: 1 }}\n              title=\"Search knowledge base\"\n              aria-label=\"Search knowledge base\"\n              id=\"knowledge-search\"\n              name=\"knowledge-search\"\n            />\n            <Search size={16} style={{ color: 'var(--secondary-color)', marginTop: '0.5rem' }} aria-hidden=\"true\" />\n          </div>\n        </div>\n        \n        {loading && filteredEntries.length === 0 ? (\n          <div className=\"loading\">Loading knowledge entries...</div>\n        ) : filteredEntries.length === 0 ? (\n          <p style={{ textAlign: 'center', color: 'var(--secondary-color)' }}>\n            {searchQuery ? 'No matching knowledge entries found.' : 'No knowledge entries yet. Ask a question above to get started!'}\n          </p>\n        ) : (\n          <div style={{ \n            display: viewMode === 'grid' ? 'grid' : 'flex', \n            flexDirection: 'column',\n            gap: '1rem',\n            gridTemplateColumns: viewMode === 'grid' ? 'repeat(auto-fill, minmax(300px, 1fr))' : 'none'\n          }}>\n            {filteredEntries.map(entry => {\n              const { tools, supplies } = extractToolsAndSupplies(entry.response)\n              const difficulty = entry.response.match(/difficulty.*?:.*?(easy|moderate|difficult)/i)?.[1] || 'moderate'\n              \n              return (\n                <div key={entry.id} style={{ \n                  border: '1px solid var(--border-color)', \n                  borderRadius: '8px', \n                  padding: '1rem',\n                  backgroundColor: 'var(--light-color)',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease'\n                }}\n                onClick={() => setSelectedEntry(selectedEntry?.id === entry.id ? null : entry)}\n                title={`View knowledge entry: ${entry.question}`}\n                aria-label={`View knowledge entry: ${entry.question}`}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '0.5rem' }}>\n                    <div style={{ flex: 1 }}>\n                      <h4 style={{ \n                        margin: '0 0 0.5rem 0', \n                        color: 'var(--primary-color)',\n                        fontSize: '1rem'\n                      }}>\n                        <BookOpen size={16} style={{ marginRight: '0.5rem' }} aria-hidden=\"true\" />\n                        {entry.question}\n                      </h4>\n                      <div style={{ fontSize: '0.8rem', color: 'var(--secondary-color)' }}>\n                        <Calendar size={12} style={{ marginRight: '0.25rem' }} aria-hidden=\"true\" />\n                        {new Date(entry.created_at).toLocaleDateString()}\n                        <span style={{ margin: '0 0.5rem' }}>‚Ä¢</span>\n                        <span style={{ \n                          color: getDifficultyColor(difficulty),\n                          fontWeight: '500'\n                        }}>\n                          {difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <button\n                      className=\"btn btn-danger\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        deleteKnowledgeEntry(entry.id)\n                      }}\n                      style={{ padding: '0.25rem 0.5rem', fontSize: '0.8rem' }}\n                      title=\"Delete entry\"\n                      aria-label=\"Delete entry\"\n                    >\n                      <Trash2 size={14} aria-hidden=\"true\" />\n                    </button>\n                  </div>\n\n                  {/* Tools and Supplies Preview */}\n                  {(tools.length > 0 || supplies.length > 0) && (\n                    <div style={{ marginBottom: '0.5rem' }}>\n                      {tools.length > 0 && (\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem', marginBottom: '0.25rem' }}>\n                          <Wrench size={12} style={{ color: 'var(--primary-color)' }} aria-hidden=\"true\" />\n                          <span style={{ color: 'var(--secondary-color)' }}>Tools:</span>\n                          <span style={{ fontSize: '0.75rem' }}>{tools.slice(0, 2).join(', ')}{tools.length > 2 ? '...' : ''}</span>\n                        </div>\n                      )}\n                      {supplies.length > 0 && (\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', fontSize: '0.8rem' }}>\n                          <Package size={12} style={{ color: 'var(--primary-color)' }} aria-hidden=\"true\" />\n                          <span style={{ color: 'var(--secondary-color)' }}>Supplies:</span>\n                          <span style={{ fontSize: '0.75rem' }}>{supplies.slice(0, 2).join(', ')}{supplies.length > 2 ? '...' : ''}</span>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Response Preview */}\n                  <div style={{ \n                    fontSize: '0.9rem', \n                    color: 'var(--text-color)',\n                    lineHeight: '1.4',\n                    maxHeight: selectedEntry?.id === entry.id ? 'none' : '3rem',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    display: '-webkit-box',\n                    WebkitLineClamp: selectedEntry?.id === entry.id ? 'none' : 2,\n                    WebkitBoxOrient: 'vertical'\n                  }}>\n                    {selectedEntry?.id === entry.id ? (\n                      <div \n                        dangerouslySetInnerHTML={{ __html: formatResponse(entry.response) }}\n                        style={{ whiteSpace: 'pre-line' }}\n                      />\n                    ) : (\n                      entry.response.substring(0, 150) + (entry.response.length > 150 ? '...' : '')\n                    )}\n                  </div>\n\n                  {/* Action Buttons */}\n                  {selectedEntry?.id === entry.id && (\n                    <div style={{ display: 'flex', gap: '0.5rem', marginTop: '1rem' }}>\n                      <button\n                        className=\"btn btn-outline\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          copyToClipboard(entry.response)\n                        }}\n                        style={{ fontSize: '0.8rem', padding: '0.25rem 0.5rem' }}\n                        title=\"Copy response\"\n                        aria-label=\"Copy response\"\n                      >\n                        <Copy size={12} style={{ marginRight: '0.25rem' }} aria-hidden=\"true\" />\n                        Copy\n                      </button>\n                      <button\n                        className=\"btn btn-outline\"\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          copyToClipboard(entry.question)\n                        }}\n                        style={{ fontSize: '0.8rem', padding: '0.25rem 0.5rem' }}\n                        title=\"Copy question\"\n                        aria-label=\"Copy question\"\n                      >\n                        <Copy size={12} style={{ marginRight: '0.25rem' }} aria-hidden=\"true\" />\n                        Copy Question\n                      </button>\n                    </div>\n                  )}\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default Knowledge "],"names":["Knowledge","knowledgeEntries","setKnowledgeEntries","useState","loading","setLoading","message","setMessage","isOnline","setIsOnline","question","setQuestion","processing","setProcessing","searchQuery","setSearchQuery","filteredEntries","setFilteredEntries","selectedEntry","setSelectedEntry","viewMode","setViewMode","isListening","setIsListening","transcript","setTranscript","listeningTimeout","setListeningTimeout","showVoiceModal","setShowVoiceModal","voiceModalText","setVoiceModalText","voiceModalListening","setVoiceModalListening","voiceModalRecognitionRef","setVoiceModalRecognitionRef","aiSuggestions","setAiSuggestions","showAnalytics","setShowAnalytics","useEffect","handleOnline","handleOffline","loadKnowledgeEntries","voiceKnowledge","processQuestion","filtered","entry","data","error","supabase","TABLES","showMessage","grokApiKey","API_KEYS","fallbackResponse","saveKnowledgeEntry","response","errorText","grokResponse","questionText","responseText","deleteKnowledgeEntry","entryId","copyToClipboard","text","formatResponse","getDifficultyColor","difficulty","extractToolsAndSupplies","tools","supplies","line","type","startListening","SpeechRecognition","recognition","event","finalTranscript","i","timeout","stopListening","openVoiceModal","closeVoiceModal","startVoiceModalListening","prev","stopVoiceModalListening","applyVoiceModalText","generateAiSuggestions","jsxs","jsx","e","Fragment","Loader","Brain","MessageSquare","Lightbulb","suggestion","index","List","Grid","RotateCcw","Search","_a","BookOpen","Calendar","Trash2","Wrench","Package","Copy"],"mappings":"6QAuCA,MAAMA,GAAY,IAAM,CACtB,QAAQ,IAAI,qBAAqB,EACjC,KAAM,CAACC,EAAkBC,CAAmB,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACrD,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EACtC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,CAAE,KAAM,GAAI,KAAM,GAAI,EACvD,CAACK,EAAUC,CAAW,EAAIN,EAAAA,SAAS,UAAU,MAAM,EACnD,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,EAAE,EACrC,CAACS,EAAYC,CAAa,EAAIV,EAAAA,SAAS,EAAK,EAC5C,CAACW,EAAaC,CAAc,EAAIZ,EAAAA,SAAS,EAAE,EAC3C,CAACa,EAAiBC,CAAkB,EAAId,EAAAA,SAAS,CAAA,CAAE,EACnD,CAACe,EAAeC,CAAgB,EAAIhB,EAAAA,SAAS,IAAI,EACjD,CAACiB,EAAUC,CAAW,EAAIlB,EAAAA,SAAS,MAAM,EACzC,CAACmB,EAAaC,CAAc,EAAIpB,EAAAA,SAAS,EAAK,EAC9C,CAACqB,EAAYC,CAAa,EAAItB,EAAAA,SAAS,EAAE,EACzC,CAACuB,EAAkBC,CAAmB,EAAIxB,EAAAA,SAAS,IAAI,EACvD,CAACyB,EAAgBC,CAAiB,EAAI1B,EAAAA,SAAS,EAAK,EACpD,CAAC2B,EAAgBC,CAAiB,EAAI5B,EAAAA,SAAS,EAAE,EACjD,CAAC6B,EAAqBC,CAAsB,EAAI9B,EAAAA,SAAS,EAAK,EAC9D,CAAC+B,EAA0BC,CAA2B,EAAIhC,EAAAA,SAAS,IAAI,EACvE,CAACiC,EAAeC,EAAgB,EAAIlC,EAAAA,SAAS,CAAA,CAAE,EAC/C,CAACmC,GAAeC,EAAgB,EAAIpC,EAAAA,SAAS,EAAK,EAGxDqC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAe,IAAMhC,EAAY,EAAI,EACrCiC,EAAgB,IAAMjC,EAAY,EAAK,EAE7C,cAAO,iBAAiB,SAAUgC,CAAY,EAC9C,OAAO,iBAAiB,UAAWC,CAAa,EAEzC,IAAM,CACX,OAAO,oBAAoB,SAAUD,CAAY,EACjD,OAAO,oBAAoB,UAAWC,CAAa,CACrD,CACF,EAAG,CAAA,CAAE,EAGLF,EAAAA,UAAU,IAAM,CACdG,EAAA,CACF,EAAG,CAAA,CAAE,EAGLH,EAAAA,UAAU,IAAM,CACd,MAAMI,EAAiB,aAAa,QAAQ,gBAAgB,EACxDA,IACFjC,EAAYiC,CAAc,EAC1B,aAAa,WAAW,gBAAgB,EAExC,WAAW,IAAM,CACfC,EAAA,CACF,EAAG,GAAG,EAEV,EAAG,CAAA,CAAE,EAGLL,EAAAA,UAAU,IAAM,CACd,GAAI,CAAC1B,EAAY,OACfG,EAAmBhB,CAAgB,MAC9B,CACL,MAAM6C,EAAW7C,EAAiB,UAChC8C,EAAM,SAAS,YAAA,EAAc,SAASjC,EAAY,YAAA,CAAa,GAC/DiC,EAAM,SAAS,YAAA,EAAc,SAASjC,EAAY,aAAa,CAAA,EAEjEG,EAAmB6B,CAAQ,CAC7B,CACF,EAAG,CAAChC,EAAab,CAAgB,CAAC,EAElC,MAAM0C,EAAuB,SAAY,CACvC,GAAI,CACFtC,EAAW,EAAI,EACf,KAAM,CAAE,KAAA2C,EAAM,MAAAC,GAAU,MAAMC,EAC3B,KAAKC,EAAO,SAAS,EACrB,OAAO,GAAG,EACV,GAAG,UAAW,cAAc,EAC5B,MAAM,aAAc,CAAE,UAAW,GAAO,EAE3C,GAAIF,EAAO,MAAMA,EACjB/C,EAAoB8C,GAAQ,EAAE,EAC9B/B,EAAmB+B,GAAQ,EAAE,EAC7B,QAAQ,IAAI,6BAA6BA,GAAA,YAAAA,EAAM,SAAU,CAAC,CAC5D,OAASC,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,EACvD,QAAQ,IAAI,yDAAyD,EACrEG,EAAY,QAAS,kCAAkC,EACvDlD,EAAoB,CAAA,CAAE,EACtBe,EAAmB,CAAA,CAAE,CACvB,QAAA,CACEZ,EAAW,EAAK,CAClB,CACF,EAEMwC,EAAkB,SAAY,CAClC,GAAKnC,EAAS,OAEd,GAAI,CACFG,EAAc,EAAI,EAClB,MAAMwC,EAAaC,GAAS,SAE5B,GAAI,CAACD,GAAcA,IAAe,gBAAiB,CACjD,QAAQ,KAAK,0DAA0D,EAEvE,MAAME,EAAmB,YAAY7C,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FAc7C,MAAM8C,EAAmB9C,EAAU6C,CAAgB,EACnD,MACF,CAEA,QAAQ,IAAI,sCAAsC,EAElD,MAAME,EAAW,MAAM,MAAM,uCAAwC,CACnE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAiB,UAAUJ,CAAU,EAAA,EAEvC,KAAM,KAAK,UAAU,CACnB,MAAO,YACP,SAAU,CACR,CACE,KAAM,SACN,QAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAAA,EAWX,CACE,KAAM,OACN,QAAS,kDAAkD3C,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEAAA,CAYrE,EAEF,WAAY,IACZ,YAAa,EAAA,CACd,CAAA,CACF,EAED,GAAI,CAAC+C,EAAS,GAAI,CAChB,MAAMC,EAAY,MAAMD,EAAS,KAAA,EACjC,cAAQ,MAAM,kBAAmBA,EAAS,OAAQC,CAAS,EACrD,IAAI,MAAM,mBAAmBD,EAAS,MAAM,EAAE,CACtD,CAGA,MAAME,GADS,MAAMF,EAAS,KAAA,GACF,QAAQ,CAAC,EAAE,QAAQ,QAE/C,QAAQ,IAAI,2BAA4BE,CAAY,EAEpD,MAAMH,EAAmB9C,EAAUiD,CAAY,CAEjD,OAASV,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,EACjDG,EAAY,QAAS,sDAAsD,EAG3E,MAAMG,EAAmB,YAAY7C,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FAc7C,MAAM8C,EAAmB9C,EAAU6C,CAAgB,CACrD,QAAA,CACE1C,EAAc,EAAK,EACnBF,EAAY,EAAE,CAChB,CACF,EAEM6C,EAAqB,MAAOI,EAAcC,IAAiB,CAC/D,GAAI,CACF,KAAM,CAAE,MAAAZ,GAAU,MAAMC,EACrB,KAAKC,EAAO,SAAS,EACrB,OAAO,CACN,QAAS,eACT,SAAUS,EACV,SAAUC,EACV,WAAY,IAAI,KAAA,EAAO,YAAA,CAAY,CACpC,EAEH,GAAIZ,EAAO,MAAMA,EAEjB,QAAQ,IAAI,oCAAoC,EAChDG,EAAY,UAAW,sCAAsC,EAE7D,MAAMT,EAAA,CACR,OAASM,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpDG,EAAY,QAAS,gCAAgC,CACvD,CACF,EAEMU,GAAuB,MAAOC,GAAY,CAC9C,GAAI,CACF,KAAM,CAAE,MAAAd,CAAA,EAAU,MAAMC,EACrB,KAAKC,EAAO,SAAS,EACrB,OAAA,EACA,GAAG,KAAMY,CAAO,EAEnB,GAAId,EAAO,MAAMA,EAEjB/C,EAAoBD,EAAiB,OAAO8C,GAASA,EAAM,KAAOgB,CAAO,CAAC,EAC1E9C,EAAmBD,EAAgB,OAAO+B,GAASA,EAAM,KAAOgB,CAAO,CAAC,EACxE,QAAQ,IAAI,mBAAmBA,CAAO,UAAU,EAChDX,EAAY,UAAW,yBAAyB,CAClD,OAASH,EAAO,CACd,QAAQ,MAAM,kCAAmCA,CAAK,EACtDG,EAAY,QAAS,kCAAkC,CACzD,CACF,EAEMY,EAAkB,MAAOC,GAAS,CACtC,GAAI,CACF,MAAM,UAAU,UAAU,UAAUA,CAAI,EACxCb,EAAY,UAAW,qBAAqB,CAC9C,OAASH,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,EAClDG,EAAY,QAAS,6BAA6B,CACpD,CACF,EAEMc,GAAkBT,GAEfA,EACJ,QAAQ,iBAAkB,qBAAqB,EAC/C,QAAQ,aAAc,aAAa,EACnC,QAAQ,MAAO,MAAM,EACrB,QAAQ,YAAa,MAAM,EAG1BU,GAAsBC,GAAe,CACzC,OAAQA,GAAA,YAAAA,EAAY,cAAY,CAC9B,IAAK,OAAQ,MAAO,uBACpB,IAAK,WAAY,MAAO,uBACxB,IAAK,YAAa,MAAO,sBACzB,QAAS,MAAO,wBAAA,CAEpB,EAEMC,GAA2BZ,GAAa,CAC5C,MAAMa,EAAQ,CAAA,EACRC,EAAW,CAAA,EAIjB,OADcd,EAAS,MAAM;AAAA,CAAI,EAC3B,QAAQe,GAAQ,CAChBA,EAAK,cAAc,SAAS,MAAM,GAAK,CAACA,EAAK,YAAA,EAAc,SAAS,QAAQ,GAC9EF,EAAM,KAAKE,EAAK,QAAQ,cAAe,EAAE,EAAE,MAAM,EAE/CA,EAAK,YAAA,EAAc,SAAS,QAAQ,GACtCD,EAAS,KAAKC,EAAK,QAAQ,gBAAiB,EAAE,EAAE,MAAM,CAE1D,CAAC,EAEM,CAAE,MAAAF,EAAO,SAAAC,CAAA,CAClB,EAEMnB,EAAc,CAACqB,EAAMR,IAAS,CAClC1D,EAAW,CAAE,KAAAkE,EAAM,KAAAR,EAAM,EACzB,WAAW,IAAM1D,EAAW,CAAE,KAAM,GAAI,KAAM,GAAI,EAAG,GAAI,CAC3D,EAGMmE,GAAiB,IAAM,CAC3B,GAAI,EAAE,4BAA6B,SAAW,EAAE,sBAAuB,QAAS,CAC9EtB,EAAY,QAAS,kCAAkC,EACvD,MACF,CAEA,MAAMuB,EAAoB,OAAO,mBAAqB,OAAO,wBACvDC,EAAc,IAAID,EAExBC,EAAY,WAAa,GACzBA,EAAY,eAAiB,GAC7BA,EAAY,KAAO,QAEnBA,EAAY,QAAU,IAAM,CAC1BrD,EAAe,EAAI,EACnBE,EAAc,EAAE,CAClB,EAEAmD,EAAY,SAAYC,GAAU,CAChC,IAAIC,EAAkB,GACtB,QAASC,EAAIF,EAAM,YAAaE,EAAIF,EAAM,QAAQ,OAAQE,IACpDF,EAAM,QAAQE,CAAC,EAAE,UACnBD,GAAmBD,EAAM,QAAQE,CAAC,EAAE,CAAC,EAAE,YAGvCD,IACFrD,EAAcqD,CAAe,EAC7BnE,EAAYmE,CAAe,EAE/B,EAEAF,EAAY,MAAQ,IAAM,CACxBrD,EAAe,EAAK,EAChBC,GACFqB,EAAA,CAEJ,EAEA+B,EAAY,QAAWC,GAAU,CAC/B,QAAQ,MAAM,4BAA6BA,EAAM,KAAK,EACtDtD,EAAe,EAAK,CACtB,EAGA,MAAMyD,EAAU,WAAW,IAAM,CAC/BJ,EAAY,KAAA,EACZA,EAAY,MAAA,CACd,EAAG,GAAK,EACRjD,EAAoBqD,CAAO,EAE3BJ,EAAY,MAAA,CACd,EAEMK,GAAgB,IAAM,CACtBvD,IACF,aAAaA,CAAgB,EAC7BC,EAAoB,IAAI,GAE1B,GAAI,CAEE,OAAO,oBACT,OAAO,kBAAkB,KAAA,EACzB,OAAO,kBAAkB,MAAA,EAE7B,MAAgB,CACd,QAAQ,IAAI,6BAA6B,CAC3C,CAEAJ,EAAe,EAAK,EACpB6B,EAAY,OAAQ,sBAAsB,CAC5C,EAGM8B,GAAiB,IAAM,CAC3BrD,EAAkB,EAAI,EACtBE,EAAkB,EAAE,CACtB,EAEMoD,EAAkB,IAAM,CAC5BtD,EAAkB,EAAK,EACvBE,EAAkB,EAAE,EAChBG,IACFA,EAAyB,KAAA,EACzBA,EAAyB,MAAA,EAE7B,EAEMkD,GAA2B,IAAM,CACrC,GAAI,EAAE,4BAA6B,SAAW,EAAE,sBAAuB,QAAS,CAC9EhC,EAAY,QAAS,kCAAkC,EACvD,MACF,CAEA,MAAMuB,EAAoB,OAAO,mBAAqB,OAAO,wBACvDC,EAAc,IAAID,EAExBC,EAAY,WAAa,GACzBA,EAAY,eAAiB,GAC7BA,EAAY,KAAO,QAEnBA,EAAY,QAAU,IAAM,CAC1B3C,EAAuB,EAAI,CAC7B,EAEA2C,EAAY,SAAYC,GAAU,CAChC,IAAIC,EAAkB,GACtB,QAASC,EAAIF,EAAM,YAAaE,EAAIF,EAAM,QAAQ,OAAQE,IACpDF,EAAM,QAAQE,CAAC,EAAE,UACnBD,GAAmBD,EAAM,QAAQE,CAAC,EAAE,CAAC,EAAE,YAGvCD,GACF/C,EAAkBsD,GAAQA,EAAOP,EAAkB,GAAG,CAE1D,EAEAF,EAAY,MAAQ,IAAM,CACxB3C,EAAuB,EAAK,CAC9B,EAEA2C,EAAY,QAAWC,GAAU,CAC/B,QAAQ,MAAM,4BAA6BA,EAAM,KAAK,EACtD5C,EAAuB,EAAK,CAC9B,EAEA2C,EAAY,MAAA,EACZzC,EAA4ByC,CAAW,CACzC,EAEMU,GAA0B,IAAM,CAChCpD,IACFA,EAAyB,KAAA,EACzBA,EAAyB,MAAA,EACzBD,EAAuB,EAAK,EAEhC,EAEMsD,GAAsB,IAAM,CAC5BzD,EAAe,SACjBnB,EAAYmB,EAAe,MAAM,EACjCqD,EAAA,EAEJ,EAGMK,GAAwB,SAAY,CACxC,GAAI,CAGA,QAAQ,IAAI,mCAAmC,EAC/C,MAiCJ,OAASvC,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACzD,CACF,EAEA,OACEwC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAA,CAACjF,GACAkF,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAgB,SAAA,wEAE/B,EAGDpF,EAAQ,MACPoF,EAAAA,IAAC,MAAA,CAAI,UAAW,WAAWpF,EAAQ,IAAI,GACpC,SAAAA,EAAQ,KACX,EAIFmF,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,6BAA0B,EAC9BA,EAAAA,IAAC,KAAE,MAAO,CAAE,MAAO,yBAA0B,aAAc,MAAA,EAAU,SAAA,iHAAA,CAErE,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,aAAa,QAAQ,qBAAqB,SAAA,yCAAsC,EACjGA,EAAAA,IAAC,WAAA,CACC,GAAG,qBACH,KAAK,qBACL,UAAU,aACV,MAAOhF,EACP,SAAWiF,GAAMhF,EAAYgF,EAAE,OAAO,KAAK,EAC3C,YAAY,6FACZ,KAAM,EACN,SAAU/E,CAAA,CAAA,CACZ,EACF,EAEA8E,EAAAA,IAAC,SAAA,CACC,UAAU,MACV,QAAS7C,EACT,SAAU,CAACnC,EAAS,KAAA,GAAUE,EAC9B,MAAM,4BACN,aAAW,4BAEV,WACC6E,EAAAA,KAAAG,EAAAA,SAAA,CACE,SAAA,CAAAF,EAAAA,IAACG,GAAA,CAAO,KAAM,GAAI,MAAO,CAAE,YAAa,SAAU,UAAW,yBAAA,EAA6B,cAAY,OAAO,EAAE,wBAAA,EAEjH,EAEAJ,EAAAA,KAAAG,EAAAA,SAAA,CACE,SAAA,CAAAF,EAAAA,IAACI,EAAA,CAAM,KAAM,GAAI,MAAO,CAAE,YAAa,QAAA,EAAY,cAAY,MAAA,CAAO,EAAE,eAAA,EAE1E,CAAA,CAAA,EAKJL,OAAC,OAAI,MAAO,CACV,UAAW,OACX,QAAS,OACT,gBAAiBnE,EAAc,uBAAyB,qBACxD,aAAc,MACd,OAAQA,EAAc,iCAAmC,gCACzD,UAAW,QAAA,EAEX,SAAA,CAAAmE,OAAC,MAAG,MAAO,CACT,aAAc,SACd,MAAOnE,EAAc,QAAU,uBAC/B,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,IAAK,QAAA,EAEL,SAAA,CAAAoE,EAAAA,IAACK,EAAA,CAAc,KAAM,GAAI,EAAE,aAAA,EAE7B,EAGAN,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,OAAQ,eAAgB,SAAU,aAAc,MAAA,EAClF,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAASpE,EAAc2D,GAAgBP,GACvC,MAAO,CACL,QAAS,YACT,aAAc,OACd,OAAQ,OACR,gBAAiBpD,EAAc,UAAY,uBAC3C,MAAO,QACP,OAAQ,UACR,SAAU,SACV,WAAY,MACZ,QAAS,OACT,WAAY,SACZ,IAAK,SACL,WAAY,gBACZ,UAAWA,EAAc,kCAAoC,4BAC7D,UAAWA,EAAc,oBAAsB,MAAA,EAGhD,WACCmE,EAAAA,KAAAG,EAAAA,SAAA,CACE,SAAA,CAAAF,EAAAA,IAAC,OAAA,CAAO,KAAM,GAAI,EAAE,gBAAA,EAEtB,EAEAD,EAAAA,KAAAG,EAAAA,SAAA,CACE,SAAA,CAAAF,EAAAA,IAACK,EAAA,CAAc,KAAM,GAAI,EAAE,aAAA,EAE7B,CAAA,CAAA,EAIJN,EAAAA,KAAC,SAAA,CACC,QAASP,GACT,MAAO,CACL,QAAS,YACT,aAAc,OACd,OAAQ,iCACR,gBAAiB,QACjB,MAAO,uBACP,OAAQ,UACR,SAAU,SACV,WAAY,MACZ,QAAS,OACT,WAAY,SACZ,IAAK,SACL,WAAY,eAAA,EAGd,SAAA,CAAAQ,EAAAA,IAACK,EAAA,CAAc,KAAM,GAAI,EAAE,aAAA,CAAA,CAAA,CAE7B,EACF,EAGCzE,GACCoE,EAAAA,IAAC,MAAA,CAAI,MAAO,CACV,MAAO,QACP,SAAU,SACV,aAAc,SACd,UAAW,SACX,WAAY,KAAA,EACX,SAAA,gDAEH,EAIDlE,GACCiE,EAAAA,KAAC,MAAA,CAAI,MAAO,CACV,UAAW,SACX,QAAS,SACT,gBAAiB,QACjB,aAAc,MACd,SAAU,SACV,MAAO,oBACP,UAAW,MAAA,EAEX,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,YAAS,EAAS,IAAElE,CAAA,EAC9B,CAAA,EAEJ,EAGAiE,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,UAAW,OAAQ,QAAS,OAAQ,gBAAiB,qBAAsB,aAAc,KAAA,EACrG,SAAA,CAAAA,OAAC,MAAG,MAAO,CAAE,aAAc,SAAU,MAAO,sBAAA,EAC1C,SAAA,CAAAC,EAAAA,IAACM,GAAA,CAAU,KAAM,GAAI,MAAO,CAAE,YAAa,QAAA,EAAY,cAAY,MAAA,CAAO,EAAE,oBAAA,EAE9E,EACAP,OAAC,OAAI,MAAO,CAAE,SAAU,SAAU,MAAO,wBAAA,EACvC,SAAA,CAAAC,EAAAA,IAAC,OAAI,SAAA,0CAAuC,EAC5CA,EAAAA,IAAC,OAAI,SAAA,sCAAmC,EACxCA,EAAAA,IAAC,OAAI,SAAA,6CAA0C,EAC/CA,EAAAA,IAAC,OAAI,SAAA,+CAA4C,CAAA,EACnD,CAAA,EACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,UAAW,OAAQ,QAAS,OAAQ,gBAAiB,qBAAsB,aAAc,KAAA,EACrG,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,aAAc,MAAA,EAClG,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,MAAO,uBAAwB,OAAQ,CAAA,EAAK,SAAA,6BAAA,CAA2B,EACpFD,EAAAA,KAAC,SAAA,CACC,QAASD,GACT,MAAO,CACL,QAAS,cACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,uBACjB,MAAO,QACP,OAAQ,UACR,QAAS,OACT,WAAY,SACZ,IAAK,QAAA,EAGP,SAAA,CAAAE,EAAAA,IAACI,EAAA,CAAM,KAAM,GAAI,EAAE,oBAAA,CAAA,CAAA,CAErB,EACF,EAEC1D,EAAc,OAAS,GACtBsD,EAAAA,IAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,cAAe,SAAU,IAAK,UAC1D,SAAAtD,EAAc,IAAI,CAAC6D,EAAYC,IAC9BT,EAAAA,KAAC,MAAA,CAAgB,MAAO,CACtB,QAAS,UACT,gBAAiB,QACjB,aAAc,MACd,OAAQ,+BAAA,EAER,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,WAAY,MAAO,aAAc,SAAA,EAAc,SAAAO,EAAW,WAAW,EACnFP,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,SAAU,SAAU,MAAO,wBAAA,EAA6B,SAAAO,EAAW,OAAO,CAAA,CAAA,EAPhFC,CAQV,CACD,EACH,CAAA,EAEJ,CAAA,EACF,EAGCtE,GACC8D,EAAAA,IAAC,MAAA,CAAI,MAAO,CACV,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,EACP,OAAQ,EACR,gBAAiB,qBACjB,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,OAAQ,GAAA,EAER,SAAAD,EAAAA,KAAC,MAAA,CAAI,MAAO,CACV,gBAAiB,QACjB,QAAS,OACT,aAAc,OACd,MAAO,MACP,SAAU,QACV,UAAW,gCAAA,EAEX,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,aAAc,OAAQ,MAAO,sBAAA,EAA0B,SAAA,0BAAA,CAAwB,QAE3F,MAAA,CAAI,MAAO,CAAE,aAAc,MAAA,EAC1B,SAAAA,EAAAA,IAAC,WAAA,CACC,MAAO5D,EACP,SAAW6D,GAAM5D,EAAkB4D,EAAE,OAAO,KAAK,EACjD,YAAY,uCACZ,MAAO,CACL,MAAO,OACP,UAAW,QACX,QAAS,UACT,aAAc,MACd,OAAQ,gCACR,SAAU,SACV,OAAQ,UAAA,CACV,CAAA,EAEJ,EAEAF,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,SAAU,eAAgB,QAAA,EAC5D,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAASzD,EAAsBsD,GAA0BF,GACzD,MAAO,CACL,QAAS,iBACT,aAAc,MACd,OAAQ,OACR,gBAAiBpD,EAAsB,UAAY,uBACnD,MAAO,QACP,OAAQ,UACR,QAAS,OACT,WAAY,SACZ,IAAK,QAAA,EAGN,SAAA,CAAAA,EAAsB0D,EAAAA,IAAC,QAAO,KAAM,EAAA,CAAI,EAAKA,EAAAA,IAACK,EAAA,CAAc,KAAM,GAAI,EACtE/D,EAAsB,OAAS,QAAQ,YAAA,CAAA,CAAA,EAG1C0D,EAAAA,IAAC,SAAA,CACC,QAASH,GACT,SAAU,CAACzD,EAAe,KAAA,EAC1B,MAAO,CACL,QAAS,iBACT,aAAc,MACd,OAAQ,OACR,gBAAiBA,EAAe,KAAA,EAAS,uBAAyB,yBAClE,MAAO,QACP,OAAQA,EAAe,KAAA,EAAS,UAAY,aAAA,EAE/C,SAAA,cAAA,CAAA,EAID4D,EAAAA,IAAC,SAAA,CACC,QAASP,EACT,MAAO,CACL,QAAS,iBACT,aAAc,MACd,OAAQ,gCACR,gBAAiB,QACjB,MAAO,oBACP,OAAQ,SAAA,EAEX,SAAA,QAAA,CAAA,CAED,EACF,CAAA,CAAA,CACF,CAAA,CACF,EAIFM,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,SAAU,aAAc,MAAA,EAClG,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,oBAAiB,EACrBD,OAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAA,EAClC,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,UAAU,oBACV,QAAS,IAAMrE,EAAY,MAAM,EACjC,MAAO,CACL,gBAAiBD,IAAa,OAAS,uBAAyB,yBAChE,MAAO,OAAA,EAET,MAAM,eACN,aAAW,eAEX,eAAC+E,GAAA,CAAK,KAAM,GAAI,cAAY,OAAO,CAAA,CAAA,EAErCT,EAAAA,IAAC,SAAA,CACC,UAAU,oBACV,QAAS,IAAMrE,EAAY,MAAM,EACjC,MAAO,CACL,gBAAiBD,IAAa,OAAS,uBAAyB,yBAChE,MAAO,OAAA,EAET,MAAM,eACN,aAAW,eAEX,eAACgF,GAAA,CAAK,KAAM,GAAI,cAAY,OAAO,CAAA,CAAA,EAErCV,EAAAA,IAAC,SAAA,CACC,UAAU,oBACV,QAAS/C,EACT,SAAUvC,EACV,MAAM,yBACN,aAAW,yBAEX,eAACiG,GAAA,CAAU,KAAM,GAAI,cAAY,OAAO,CAAA,CAAA,CAC1C,EACF,CAAA,EACF,EAEAZ,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,aAAa,QAAQ,mBAAmB,SAAA,mBAAgB,EACzED,OAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAAA,EAClC,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,aACV,MAAO5E,EACP,SAAW6E,GAAM5E,EAAe4E,EAAE,OAAO,KAAK,EAC9C,YAAY,oCACZ,MAAO,CAAE,KAAM,CAAA,EACf,MAAM,wBACN,aAAW,wBACX,GAAG,mBACH,KAAK,kBAAA,CAAA,EAEPD,EAAAA,IAACY,GAAA,CAAO,KAAM,GAAI,MAAO,CAAE,MAAO,yBAA0B,UAAW,UAAY,cAAY,OAAO,CAAA,EACxG,CAAA,EACF,EAEClG,GAAWY,EAAgB,SAAW,QACpC,MAAA,CAAI,UAAU,UAAU,SAAA,8BAAA,CAA4B,EACnDA,EAAgB,SAAW,EAC7B0E,EAAAA,IAAC,IAAA,CAAE,MAAO,CAAE,UAAW,SAAU,MAAO,0BACrC,SAAA5E,EAAc,uCAAyC,iEAC1D,EAEA4E,EAAAA,IAAC,MAAA,CAAI,MAAO,CACV,QAAStE,IAAa,OAAS,OAAS,OACxC,cAAe,SACf,IAAK,OACL,oBAAqBA,IAAa,OAAS,wCAA0C,MAAA,EAEpF,SAAAJ,EAAgB,IAAI+B,GAAS,OAC5B,KAAM,CAAE,MAAAuB,EAAO,SAAAC,CAAA,EAAaF,GAAwBtB,EAAM,QAAQ,EAC5DqB,IAAamC,EAAAxD,EAAM,SAAS,MAAM,6CAA6C,IAAlE,YAAAwD,EAAsE,KAAM,WAE/F,OACEd,EAAAA,KAAC,MAAA,CAAmB,MAAO,CACzB,OAAQ,gCACR,aAAc,MACd,QAAS,OACT,gBAAiB,qBACjB,OAAQ,UACR,WAAY,eAAA,EAEd,QAAS,IAAMtE,GAAiBD,GAAA,YAAAA,EAAe,MAAO6B,EAAM,GAAK,KAAOA,CAAK,EAC7E,MAAO,yBAAyBA,EAAM,QAAQ,GAC9C,aAAY,yBAAyBA,EAAM,QAAQ,GAEjD,SAAA,CAAA0C,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,aAAc,aAAc,QAAA,EACtG,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,KAAM,CAAA,EAClB,SAAA,CAAAA,OAAC,MAAG,MAAO,CACT,OAAQ,eACR,MAAO,uBACP,SAAU,MAAA,EAEV,SAAA,CAAAC,EAAAA,IAACc,GAAA,CAAS,KAAM,GAAI,MAAO,CAAE,YAAa,QAAA,EAAY,cAAY,MAAA,CAAO,EACxEzD,EAAM,QAAA,EACT,EACA0C,OAAC,OAAI,MAAO,CAAE,SAAU,SAAU,MAAO,wBAAA,EACvC,SAAA,CAAAC,EAAAA,IAACe,GAAA,CAAS,KAAM,GAAI,MAAO,CAAE,YAAa,SAAA,EAAa,cAAY,MAAA,CAAO,EACzE,IAAI,KAAK1D,EAAM,UAAU,EAAE,mBAAA,QAC3B,OAAA,CAAK,MAAO,CAAE,OAAQ,UAAA,EAAc,SAAA,IAAC,EACtC2C,MAAC,QAAK,MAAO,CACX,MAAOvB,GAAmBC,CAAU,EACpC,WAAY,KAAA,EAEX,SAAAA,EAAW,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAW,MAAM,CAAC,CAAA,CAC1D,CAAA,EACF,CAAA,EACF,EAEAsB,EAAAA,IAAC,SAAA,CACC,UAAU,iBACV,QAAUC,GAAM,CACdA,EAAE,gBAAA,EACF7B,GAAqBf,EAAM,EAAE,CAC/B,EACA,MAAO,CAAE,QAAS,iBAAkB,SAAU,QAAA,EAC9C,MAAM,eACN,aAAW,eAEX,eAAC2D,GAAA,CAAO,KAAM,GAAI,cAAY,OAAO,CAAA,CAAA,CACvC,EACF,GAGEpC,EAAM,OAAS,GAAKC,EAAS,OAAS,IACtCkB,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,aAAc,QAAA,EACzB,SAAA,CAAAnB,EAAM,OAAS,UACb,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,SAAU,SAAU,aAAc,SAAA,EACpG,SAAA,CAAAoB,EAAAA,IAACiB,GAAA,CAAO,KAAM,GAAI,MAAO,CAAE,MAAO,sBAAA,EAA0B,cAAY,MAAA,CAAO,QAC9E,OAAA,CAAK,MAAO,CAAE,MAAO,wBAAA,EAA4B,SAAA,SAAM,SACvD,OAAA,CAAK,MAAO,CAAE,SAAU,SAAA,EAAc,SAAA,CAAArC,EAAM,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,EAAGA,EAAM,OAAS,EAAI,MAAQ,EAAA,EAAG,CAAA,EACrG,EAEDC,EAAS,OAAS,GACjBkB,EAAAA,KAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,SAAU,SAAU,QAAA,EAC5E,SAAA,CAAAC,EAAAA,IAACkB,GAAA,CAAQ,KAAM,GAAI,MAAO,CAAE,MAAO,sBAAA,EAA0B,cAAY,MAAA,CAAO,QAC/E,OAAA,CAAK,MAAO,CAAE,MAAO,wBAAA,EAA4B,SAAA,YAAS,SAC1D,OAAA,CAAK,MAAO,CAAE,SAAU,SAAA,EAAc,SAAA,CAAArC,EAAS,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,EAAGA,EAAS,OAAS,EAAI,MAAQ,EAAA,EAAG,CAAA,EAC3G,CAAA,EAEJ,EAIFmB,MAAC,OAAI,MAAO,CACV,SAAU,SACV,MAAO,oBACP,WAAY,MACZ,WAAWxE,GAAA,YAAAA,EAAe,MAAO6B,EAAM,GAAK,OAAS,OACrD,SAAU,SACV,aAAc,WACd,QAAS,cACT,iBAAiB7B,GAAA,YAAAA,EAAe,MAAO6B,EAAM,GAAK,OAAS,EAC3D,gBAAiB,UAAA,EAEhB,UAAA7B,GAAA,YAAAA,EAAe,MAAO6B,EAAM,GAC3B2C,EAAAA,IAAC,MAAA,CACC,wBAAyB,CAAE,OAAQxB,GAAenB,EAAM,QAAQ,CAAA,EAChE,MAAO,CAAE,WAAY,UAAA,CAAW,CAAA,EAGlCA,EAAM,SAAS,UAAU,EAAG,GAAG,GAAKA,EAAM,SAAS,OAAS,IAAM,MAAQ,IAE9E,GAGC7B,GAAA,YAAAA,EAAe,MAAO6B,EAAM,WAC1B,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,SAAU,UAAW,MAAA,EACvD,SAAA,CAAA0C,EAAAA,KAAC,SAAA,CACC,UAAU,kBACV,QAAUE,GAAM,CACdA,EAAE,gBAAA,EACF3B,EAAgBjB,EAAM,QAAQ,CAChC,EACA,MAAO,CAAE,SAAU,SAAU,QAAS,gBAAA,EACtC,MAAM,gBACN,aAAW,gBAEX,SAAA,CAAA2C,EAAAA,IAACmB,EAAA,CAAK,KAAM,GAAI,MAAO,CAAE,YAAa,SAAA,EAAa,cAAY,MAAA,CAAO,EAAE,MAAA,CAAA,CAAA,EAG1EpB,EAAAA,KAAC,SAAA,CACC,UAAU,kBACV,QAAUE,GAAM,CACdA,EAAE,gBAAA,EACF3B,EAAgBjB,EAAM,QAAQ,CAChC,EACA,MAAO,CAAE,SAAU,SAAU,QAAS,gBAAA,EACtC,MAAM,gBACN,aAAW,gBAEX,SAAA,CAAA2C,EAAAA,IAACmB,EAAA,CAAK,KAAM,GAAI,MAAO,CAAE,YAAa,SAAA,EAAa,cAAY,MAAA,CAAO,EAAE,eAAA,CAAA,CAAA,CAE1E,EACF,CAAA,CAAA,EAxHM9D,EAAM,EAAA,CA4HpB,CAAC,EACH,CAAA,EAEJ,EAEA2C,EAAAA,IAAC,QAAA,CAAM,IAAG,GAAE,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA,CAKV,CAAA,EACJ,CAEJ"}